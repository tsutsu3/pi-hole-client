openapi: 3.0.2
info:
  title: Pi-hole API
  version: '6.4.1'
  contact:
    name: Pi-hole API Support
    url: https://discourse.pi-hole.net
  license:
    name: European Union Public Licence (EUPL)
    url: https://joinup.ec.europa.eu/community/eupl/og_page/eupl
  description: |
    The Pi-hole API is organized around [REST](http://en.wikipedia.org/wiki/Representational_State_Transfer). Our API has predictable resource-oriented URLs, accepts and returns reliable UTF-8 [JavaScript Object Notation (JSON)-encoded](http://www.json.org/) data for all API responses, and uses standard HTTP response codes and verbs.
    Most (but not all) endpoints require authentication. API endpoints requiring authentication will fail with code `401 Unauthorized` when used outside a valid session.
servers:
  - url: https://{url}:{port}/{path}
    variables:
      url:
        description: URL or address of your Pi-hole
        default: pi.hole
      port:
        description: Port of your Pi-hole's API (HTTPS)
        default: '443'
      path:
        description: Path where your Pi-hole's API is hosted
        default: api
  - url: http://{url}:{port}/{path}
    variables:
      url:
        description: URL or address of your Pi-hole
        default: pi.hole
      port:
        description: Port of your Pi-hole's API
        default: '80'
      path:
        description: Path where your Pi-hole's API is hosted
        default: api
security:
  - query_sid: []
  - cookie_sid: []
  - header_sid: []
  - x_header_sid: []
tags:
  - name: Authentication
    description: Methods used to authenticate with the API
  - name: Metrics
    description: Methods used to get usage data from your Pi-hole
  - name: DNS control
    description: Methods used to control the behavior of your Pi-hole
  - name: DHCP server control
    description: Methods used to control the DHCP server of your Pi-hole
  - name: Group management
    description: Methods used to manage groups on your Pi-hole
  - name: Domain management
    description: Methods used to manage domains on your Pi-hole
  - name: Client management
    description: Methods used to manage clients on your Pi-hole
  - name: List management
    description: Methods used to manage lists on your Pi-hole
  - name: FTL information
    description: Methods used to gather advanced data from your Pi-hole
  - name: Pi-hole configuration
    description: Methods used to configure your Pi-hole
  - name: Network information
    description: Methods used to gather advanced information about your network
  - name: Actions
    description: Methods used to trigger certain actions on your Pi-hole
  - name: PADD
    description: Methods used to query Pi-hole from PADD
paths:
  /auth:
    get:
      summary: Check if authentication is required
      tags:
        - Authentication
      operationId: get_auth
      security:
        - {}
        - query_sid: []
        - cookie_sid: []
        - header_sid: []
        - x_header_sid: []
      description: |
        The API may chose to reply with a valid session if no authentication is needed for this server.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/session'
                  - $ref: '#/components/schemas/took'
              examples:
                auth_okay:
                  $ref: '#/components/examples/auth_okay'
                no_login_required:
                  $ref: '#/components/examples/no_login_required'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/session'
                  - $ref: '#/components/schemas/took'
              examples:
                login_required:
                  $ref: '#/components/examples/login_required'
                login_required_2fa:
                  $ref: '#/components/examples/login_required_2fa'
    post:
      summary: Submit password for login
      tags:
        - Authentication
      operationId: add_auth
      security: []
      description: |
        Authenticate using a password. The password isn't stored in the session nor used to create the session token. Instead, the session token is produced using a cryptographically secure random number generator. A CSRF token is utilized to guard against CSRF attacks and is necessary when using Cookie-based authentication. However, it's not needed with other authentication methods.

        Both the Session ID (SID) and CSRF token remain valid for the session's duration. The session can be extended before its expiration by performing any authenticated action. By default, the session lasts for 30 minutes. It can be invalidated by either logging out or deleting the session. Additionally, the session becomes invalid when the password is altered or a new application password is created.

        If two-factor authentication (2FA) is activated, the Time-based One-Time Password (TOTP) token must be included in the request body. Be aware that the TOTP token, generated by your authenticator app, is only valid for 30 seconds. If the TOTP token is missing, invalid, or has been used previously, the login attempt will be unsuccessful.
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/password'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/session'
                  - $ref: '#/components/schemas/took'
              examples:
                login_okay:
                  $ref: '#/components/examples/login_okay'
                no_login_required:
                  $ref: '#/components/examples/no_login_required'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                no_payload:
                  $ref: '#/components/examples/no_payload'
                no_password:
                  $ref: '#/components/examples/no_password'
                password_inval:
                  $ref: '#/components/examples/password_inval'
                totp_missing:
                  $ref: '#/components/examples/totp_missing'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
              examples:
                totp_invalid:
                  $ref: '#/components/examples/totp_invalid'
                totp_reused:
                  $ref: '#/components/examples/totp_reused'
        '429':
          description: Too Many Requests
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/too_many_requests'
                  - $ref: '#/components/schemas/took'
              examples:
                rate_limit:
                  $ref: '#/components/examples/rate_limit'
                no_seats:
                  $ref: '#/components/examples/no_seats'
                totp_rate_limit:
                  $ref: '#/components/examples/totp_rate_limit'
    delete:
      summary: Delete session
      tags:
        - Authentication
      operationId: delete_groups
      description: |
        This endpoint can be used to delete the current session. It will
        invalidate the session token and the CSRF token. The session can be
        extended before its expiration by performing any authenticated action.
        By default, the session lasts for 30 minutes. It can be invalidated by
        either logging out or deleting the session. Additionally, the session
        becomes invalid when the password is altered or a new application
        password is created.

        You can also delete a session by its ID using the `DELETE /auth/session/{id}` endpoint.

        Note that you cannot delete the current session if you have not
        authenticated (e.g., no password has been set on your Pi-hole).
      responses:
        '204':
          description: No Content (deleted)
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Not Found (no session active)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /auth/session/{id}:
    delete:
      summary: Delete session by ID
      parameters:
        - $ref: '#/components/parameters/id'
      tags:
        - Authentication
      operationId: delete_auth_session
      description: |
        Using this endpoint, a session can be deleted by its ID.
      responses:
        '204':
          description: No Content (deleted)
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                missing_session_id:
                  $ref: '#/components/examples/missing_session_id'
                session_id_oob:
                  $ref: '#/components/examples/no_password'
                session_not_in_use:
                  $ref: '#/components/examples/session_not_in_use'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Not Found (session not found)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /auth/sessions:
    get:
      summary: List of all current sessions
      tags:
        - Authentication
      operationId: get_auth_sessions
      description: List of all current sessions including their validity and further information about the client such as the IP address and user agent.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sessions_list'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /auth/totp:
    get:
      summary: Suggest new TOTP credentials
      tags:
        - Authentication
      operationId: get_auth_totp
      description: Suggest new TOTP credentials for two-factor authentication (2FA)
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/totp'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /auth/app:
    get:
      summary: Create new application password
      tags:
        - Authentication
      operationId: add_app
      description: |
        Create a new application password. The generated password is shown only once and cannot be retrieved later - make sure to store it in a safe place. The application password can be used to authenticate against the API instead of the regular password.
        It does not require 2FA verification. Generating a new application password will invalidate all currently active sessions.

        Note that this endpoint only generates an application password accompanied by its hash. To make this new password effective, the returned `hash` has to be set as `webserver.api.app_password` in the Pi-hole configuration in a follow-up step. This can be done in various ways, e.g. via the API (`PATCH /api/config/webserver/api/app_pwhash`), the graphical web interface (Settings -> All Settings) or by editing the configuration file directly.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/app'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/summary:
    get:
      summary: Get overview of Pi-hole activity
      tags:
        - Metrics
      operationId: get_metrics_summary
      description: |
        Request various query, system, and FTL properties
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/queries'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/database/summary:
    get:
      summary: Get database content details
      tags:
        - Metrics
      operationId: get_metrics_database_summary
      description: |
        Request various database content details
      parameters:
        - $ref: '#/components/parameters/from'
        - $ref: '#/components/parameters/until'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/database_summary'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/upstreams:
    get:
      summary: Get metrics about Pi-hole's upstream destinations
      tags:
        - Metrics
      operationId: get_metrics_upstreams
      description: |
        Request upstream metrics
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/upstreams'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/database/upstreams:
    get:
      summary: Get metrics about Pi-hole's upstream destinations (long-term database)
      tags:
        - Metrics
      operationId: get_metrics_upstreams_database
      description: |
        Request upstream metrics (long-term database)
      parameters:
        - $ref: '#/components/parameters/from'
        - $ref: '#/components/parameters/until'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/upstreams'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/top_domains:
    get:
      summary: Get top domains
      tags:
        - Metrics
      operationId: get_metrics_top_domains
      description: |
        Request top domains
      parameters:
        - $ref: '#/components/parameters/blocked'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/top_domains'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/database/top_domains:
    get:
      summary: Get top domains (long-term database)
      tags:
        - Metrics
      operationId: get_metrics_database_top_domains
      description: |
        Request top domains
      parameters:
        - $ref: '#/components/parameters/from'
        - $ref: '#/components/parameters/until'
        - $ref: '#/components/parameters/blocked'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/top_domains'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/top_clients:
    get:
      summary: Get top clients
      tags:
        - Metrics
      operationId: get_metrics_top_clients
      description: |
        Request top clients
      parameters:
        - $ref: '#/components/parameters/blocked'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/top_clients'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/database/top_clients:
    get:
      summary: Get top clients (long-term database)
      tags:
        - Metrics
      operationId: get_metrics_database_top_clients
      description: |
        Request top clients
      parameters:
        - $ref: '#/components/parameters/from'
        - $ref: '#/components/parameters/until'
        - $ref: '#/components/parameters/blocked'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/top_clients'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/query_types:
    get:
      summary: Get query types
      tags:
        - Metrics
      operationId: get_metrics_query_types
      description: |
        Request query types
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/query_types'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/database/query_types:
    get:
      summary: Get query types (long-term database)
      tags:
        - Metrics
      operationId: get_metrics_database_query_types
      description: |
        Request query types
      parameters:
        - $ref: '#/components/parameters/from'
        - $ref: '#/components/parameters/until'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/query_types'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /stats/recent_blocked:
    get:
      summary: Get most recently blocked domain
      tags:
        - Metrics
      operationId: get_metrics_recent_blocked
      description: |
        Request most recently blocked domain
      parameters:
        - $ref: '#/components/parameters/recent_blocked-count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/recent_blocked'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /history:
    get:
      summary: Get activity graph data
      tags:
        - Metrics
      operationId: get_activity_metrics
      description: |
        Request data needed to generate the total queries over time graph. The sum of the values in the individual data arrays may be smaller than the total number of queries for the corresponding timestamp. The remaining queries are queries that do not fit into the shown categories (e.g. database busy, unknown status queries, etc.).
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/total_history'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /history/clients:
    get:
      summary: Get per-client activity graph data
      tags:
        - Metrics
      operationId: get_client_metrics
      description: |
        Request data needed to generate the \"Client activity over last 24 hours\" graph.
        This endpoint returns the top N clients, sorted by total number of queries within 24 hours. If N is set to 0, all clients will be returned.
        The client name is only available if the client's IP address can be resolved to a hostname.

        The last client returned is a special client that contains the total number of queries that were not sent by any of the other shown clients , i.e. queries that were sent by clients that are not in the top N. This client is always present, even if it has 0 queries and can be identified by the special name "other clients" (mind the space in the hostname) and the IP address "0.0.0.0".

        Note that, due to privacy settings, the returned data may also be empty.
      parameters:
        - $ref: '#/components/parameters/N'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/client_history'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /history/database:
    get:
      summary: Get activity graph data (long-term data)
      tags:
        - Metrics
      operationId: get_activity_metrics_database
      description: |
        Request long-term data needed to generate the activity graph
      parameters:
        - $ref: '#/components/parameters/from'
        - $ref: '#/components/parameters/until'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/total_history'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /history/database/clients:
    get:
      summary: Get per-client activity graph data (long-term data)
      tags:
        - Metrics
      operationId: get_client_metrics_database
      description: |
        Request long-term data needed to generate the client activity graph
      parameters:
        - $ref: '#/components/parameters/from'
        - $ref: '#/components/parameters/until'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/client_history'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /queries:
    get:
      summary: Get queries
      tags:
        - Metrics
      operationId: get_queries
      description: |
        Request query details.
        Query parameters may be used to limit the number of results.

        By default, this API callback returns the most recent 100 queries.
        This can be changed using the parameter `length`.

        This callback allows for fine-grained filtering by various parameters.
        All query parameters are all optional and can be combined in any way:

        - Only show queries *from* a given timestamp on: Use parameter `from`
        - Only show queries *until* a given timestamp: Use parameter `until`
        - Only show queries sent to a specific upstream destination (may also be `cache`, `blocklist`, or `permitted`): Use parameter `upstream`
        - Only show queries for specific domains: Use parameter `domain`
        - Only show queries for specific clients: Use parameter `client`

        By default, the returned queries always start at the most recent query.
        This can be changed by supplying the parameter `cursor`.
        Each result of this API callback contains a `cursor` pointing the beginning of the next `length` queries chunk.
        This provides a very fast and lightweight server-side pagination implementation.

        If wildcards are supported for a parameter, you may specify `*` at any position in the parameter to match any number of characters.
      parameters:
        - in: query
          name: from
          description: Get queries from...
          required: false
          schema:
            type: number
        - in: query
          name: until
          description: Get queries until...
          required: false
          schema:
            type: number
        - in: query
          name: length
          description: Number of results to return
          required: false
          schema:
            type: integer
        - in: query
          name: start
          description: Offset from first record
          required: false
          schema:
            type: integer
        - in: query
          name: cursor
          description: |
            Database ID of the most recent query to be shown
          required: false
          schema:
            type: integer
        - in: query
          name: domain
          description: Filter by specific domain (wildcards supported)
          required: false
          schema:
            type: string
        - in: query
          name: client_ip
          description: Filter by specific client IP address (wildcards supported)
          required: false
          schema:
            type: string
        - in: query
          name: client_name
          description: Filter by specific client hostname (wildcards supported)
          required: false
          schema:
            type: string
        - in: query
          name: upstream
          description: Filter by specific upstream (wildcards supported)
          required: false
          schema:
            type: string
        - in: query
          name: type
          description: Filter by specific query type (A, AAAA, ...)
          required: false
          schema:
            type: string
        - in: query
          name: status
          description: Filter by specific query status (GRAVITY, FORWARDED, ...)
          required: false
          schema:
            type: string
        - in: query
          name: reply
          description: Filter by specific reply type (NODATA, NXDOMAIN, ...)
          required: false
          schema:
            type: string
        - in: query
          name: dnssec
          description: Filter by specific DNSSEC status (SECURE, INSECURE, ...)
          required: false
          schema:
            type: string
        - in: query
          name: disk
          description: Load queries from on-disk database rather than from in-memory
          required: false
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/schemas-queries'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /queries/suggestions:
    get:
      summary: Get query filter suggestions
      tags:
        - Metrics
      operationId: get_suggestions
      description: |
        This endpoint provides suggestions for filters suitable to be used with /queries
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/suggestions'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /dns/blocking:
    summary: Modify blocking status
    get:
      summary: Get current blocking status
      tags:
        - DNS control
      operationId: get_blocking
      description: |
        The property `timer` may contain additional details concerning a temporary en-/disabling.
        It is `null` when no timer is active (the current status is permanent).
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/blocking'
                  - $ref: '#/components/schemas/timer'
                  - $ref: '#/components/schemas/took'
    post:
      summary: Change current blocking status
      tags:
        - DNS control
      operationId: set_blocking
      description: |
        Change the current blocking mode by setting `blocking` to the desired value.
        The optional `timer` object may used to set a timer. Once this timer elapsed, the opposite blocking mode is automatically set.
        For instance, you can request `{blocking: false, timer: 60}` to disable Pi-hole for one minute.
        Blocking will be automatically resumed afterwards.

        You can terminate a possibly running timer by setting `timer` to `null` (the set mode becomes permanent).
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/blocking_bool'
                - $ref: '#/components/schemas/timer'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/blocking'
                  - $ref: '#/components/schemas/timer'
                  - $ref: '#/components/schemas/took'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - oneOf:
                      - $ref: '#/components/schemas/no_payload'
                      - $ref: '#/components/schemas/item_missing'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /domains/{type}/{kind}/{domain}:
    summary: Modify domains and regular expressions
    parameters:
      - $ref: '#/components/parameters/type'
      - $ref: '#/components/parameters/kind'
      - $ref: '#/components/parameters/domain'
    get:
      summary: Get domain
      tags:
        - Domain management
      operationId: get_domains
      description: |
        `{type}`, `{kind}`, and `{domain}` are optional. Specifying any of these may result in only a subset of the available data being returned.

        Valid combinations are:
        - `/api/domains` (all domains)
        - `/api/domains/abc.com` (all domains identical to `abc.com`)
        - `/api/domains/allow` (only allowed domains)
        - `/api/domains/allow/abc.com` (only allowed domains identical to `abc.com`)
        - `/api/domains/allow/exact` (only exactly allowed domains)
        - `/api/domains/allow/exact/abc.com` (only exactly allowed domain identical to `abc.com`)
        - `/api/domains/allow/regex` (only allowed regex domains)
        - `/api/domains/allow/regex/abc.com` (only allowed regex domains identical to `abc.com`)
        - `/api/domains/deny` (only denied domains)
        - `/api/domains/deny/abc.com` (only denied domains identical to `abc.com`)
        - `/api/domains/deny/exact` (only exactly denied domains)
        - `/api/domains/deny/exact/abc.com` (only exactly denied domain identical to `abc.com`)
        - `/api/domains/deny/regex` (only denied regex domains)
        - `/api/domains/deny/regex/abc.com` (only denied regex domains identical to `abc.com`)
        - `/api/domains/exact` (allowed and denied exact domains)
        - `/api/domains/exact/abc.com` (allowed and denied exact domains identical to `abc.com`)
        - `/api/domains/regex` (allowed and denied regex domains)
        - `/api/domains/regex/abc.com` (allowed and denied regex domains identical to `abc.com`)
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/get'
                  - $ref: '#/components/schemas/took'
              examples:
                domains:
                  $ref: '#/components/examples/domains'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    put:
      summary: Replace domain
      tags:
        - Domain management
      operationId: replace_domain
      description: |
        Items may be updated by replacing them. `{type}`, `{kind}`, and `{domain}` are required.

        Ensure to send all the required parameters (such as `comment`) to ensure these properties are retained.
        The read-only fields `id` and `date_added` are preserved, `date_modified` is automatically updated on success.

        You can move existing domains to another list type/kind by `PUT`ting the domain to the new destination by specifying the optional fields `type` and `kind`.
        Example:
        Use `PUT allow/exact/abc.com` with `type="deny", kind="exact"` to change `abc.com` from exact denied to exact allowed. Make sure to always specify *both* values.

        When adding/replacing a regular expression, ensure that `{domain}` is properly URI-escaped.
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/put'
                - $ref: '#/components/schemas/took'
      responses:
        '200':
          description: Created or Updated domain
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/get'
                  - $ref: '#/components/schemas/lists_processed'
                  - $ref: '#/components/schemas/took'
              examples:
                domains:
                  $ref: '#/components/examples/domains'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                list_imprecise:
                  $ref: '#/components/examples/list_imprecise'
                item_missing:
                  $ref: '#/components/examples/item_missing'
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
                duplicate:
                  $ref: '#/components/examples/duplicate'
                invalid_regex:
                  $ref: '#/components/examples/invalid_regex'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    delete:
      summary: Delete domain
      tags:
        - Domain management
      operationId: delete_domain
      description: |
        *Note:* There will be no content on success.
      responses:
        '204':
          description: Item deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                list_imprecise:
                  $ref: '#/components/examples/list_imprecise'
                item_missing:
                  $ref: '#/components/examples/item_missing'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /domains:
    get:
      summary: Get all domains
      tags:
        - Domain management
      operationId: get_all_domains
      description: |
        Returns all configured domains (allow and deny, exact and regex).
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/get'
                  - $ref: '#/components/schemas/took'
              examples:
                domains:
                  $ref: '#/components/examples/domains'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /domains/{type}/{kind}:
    parameters:
      - $ref: '#/components/parameters/type'
      - $ref: '#/components/parameters/kind'
    get:
      summary: Get domains by type and kind
      tags:
        - Domain management
      operationId: get_domains_by_type_kind
      description: |
        Returns domains filtered by type (allow/deny) and kind (exact/regex).
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/get'
                  - $ref: '#/components/schemas/took'
              examples:
                domains:
                  $ref: '#/components/examples/domains'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    post:
      summary: Add new domain
      tags:
        - Domain management
      operationId: add_domain
      description: |
        Creates a new domain in the `domains` object. This may be either an exact domain or a regex, depending on `{kind}`.
        Both `{type}` and `{kind}` are mandatory for this endpoint.
        The `{domain}` itself is specified in the request body (POST JSON).

        On success, a new resource is created at `/domains/{type}/{kind}/{domain}`.

        The `database_error` with message `UNIQUE constraint failed` error indicates that the same entry (`domain`, `type`, `kind`) already exists.

        When adding a regular expression, ensure the request body is properly JSON-escaped.
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/post'
      responses:
        '201':
          description: Created domain
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/get'
                  - $ref: '#/components/schemas/lists_processed'
                  - $ref: '#/components/schemas/took'
          headers:
            Location:
              $ref: '#/components/headers/Location'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                list_imprecise:
                  $ref: '#/components/examples/list_imprecise'
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
                duplicate:
                  $ref: '#/components/examples/duplicate'
                invalid_regex:
                  $ref: '#/components/examples/invalid_regex'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /domains:batchDelete:
    summary: Delete multiple domains
    post:
      summary: Delete multiple domains
      tags:
        - Domain management
      operationId: batchDelete_domains
      description: |
        *Note:* There will be no content on success.
      requestBody:
        description: Callback payload
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  item:
                    type: string
                    description: Domain to delete
                    example: example.com
                  type:
                    type: string
                    description: Type of domain to delete
                    enum:
                      - allow
                      - deny
                    example: allow
                  kind:
                    type: string
                    description: Kind of domain to delete
                    enum:
                      - exact
                      - regex
                    example: exact
                required:
                  - item
                  - type
                  - kind
      responses:
        '204':
          description: Items deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /groups/{name}:
    summary: Modify group
    parameters:
      - $ref: '#/components/parameters/name'
    get:
      summary: Get groups
      tags:
        - Group management
      operationId: get_groups
      description: |
        `{name}` is optional. Specifying it will result in only the requested group being returned.

        Valid combinations are:
        - `/api/groups` (all groups)
        - `/api/groups/my_group` (group identical to `my_group`)
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/groups-get'
                  - $ref: '#/components/schemas/took'
              examples:
                groups:
                  $ref: '#/components/examples/groups'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    put:
      summary: Replace group
      tags:
        - Group management
      operationId: replace_group
      description: |
        Items may be updated by replacing them. `{name}` is required.

        Ensure to send all the required parameters (such as `comment`) to ensure these properties are retained.
        By specifying a different `name`, the group with the former name as specified in the URI will be renamed.
        The read-only fields `id` and `date_added` are preserved, `date_modified` is automatically updated on success.
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/groups-put'
      responses:
        '200':
          description: Created or Updated Item
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/groups-get'
                  - $ref: '#/components/schemas/schemas-lists_processed'
                  - $ref: '#/components/schemas/took'
          headers:
            Location:
              $ref: '#/components/headers/Location'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                item_missing:
                  $ref: '#/components/examples/uri_error-item_missing'
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    delete:
      summary: Delete group
      tags:
        - Group management
      operationId: delete_group
      description: |
        *Note:* There will be no content on success.
      responses:
        '204':
          description: Item deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                item_missing:
                  $ref: '#/components/examples/uri_error-item_missing'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /groups:
    get:
      summary: Get all groups
      tags:
        - Group management
      operationId: get_all_groups
      description: |
        Returns all configured groups.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/groups-get'
                  - $ref: '#/components/schemas/took'
              examples:
                groups:
                  $ref: '#/components/examples/groups'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    post:
      summary: Add new group
      tags:
        - Group management
      operationId: add_group
      description: |
        Creates a new group in the `groups` object. The `{group}` itself is specified in the request body (POST JSON).

        On success, a new resource is created at `/groups/{name}`.

        The `database_error` with message `UNIQUE constraint failed` error indicates that a group with the same name already exists.
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/groups-post'
      responses:
        '201':
          description: Created item
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/groups-get'
                  - $ref: '#/components/schemas/schemas-lists_processed'
                  - $ref: '#/components/schemas/took'
          headers:
            Location:
              $ref: '#/components/headers/Location'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
                duplicate:
                  $ref: '#/components/examples/database_error-duplicate'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /groups:batchDelete:
    post:
      summary: Delete multiple groups
      tags:
        - Group management
      operationId: batchDelete_groups
      description: |
        Deletes multiple groups in the `groups` object. The `{groups}` themselves are specified in the request body (POST JSON).
      requestBody:
        description: Callback payload
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  item:
                    type: string
                    description: group name
                required:
                  - item
              example:
                - item: test1
                - item: test2
      responses:
        '204':
          description: Items deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
                duplicate:
                  $ref: '#/components/examples/database_error-duplicate'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /clients/{client}:
    summary: Modify client
    parameters:
      - $ref: '#/components/parameters/client'
    get:
      summary: Get clients
      tags:
        - Client management
      operationId: get_clients
      description: |
        `{client}` is optional. If it is specified, it will result in only the requested client being returned. This parameter needs to be URI-encoded.

        Valid combinations are:
        - `/api/clients` (all clients)
        - `/api/clients/my_client` (client identical to `my_client`)
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/clients-get'
                  - $ref: '#/components/schemas/took'
              examples:
                clients:
                  $ref: '#/components/examples/clients'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    put:
      summary: Replace client
      tags:
        - Client management
      operationId: replace_client
      description: |
        Items may be updated by replacing them. `{client}` is required and needs to be URI-encoded.

        Ensure to send all the required parameters (such as `comment` or `groups`) to ensure these properties are retained.
        The read-only fields `id` and `date_added` are preserved, `date_modified` is automatically updated on success.
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/clients-put'
                - $ref: '#/components/schemas/took'
      responses:
        '200':
          description: Created or Updated Item
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/clients-get'
                  - $ref: '#/components/schemas/components-schemas-lists_processed'
                  - $ref: '#/components/schemas/took'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                item_missing:
                  $ref: '#/components/examples/errors-uri_error-item_missing'
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    delete:
      summary: Delete client
      tags:
        - Client management
      operationId: delete_client
      description: |
        *Note:* There will be no content on success. `{client}` is required and needs to be URI-encoded.
      responses:
        '204':
          description: Item deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                item_missing:
                  $ref: '#/components/examples/errors-uri_error-item_missing'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /clients:
    get:
      summary: Get all clients
      tags:
        - Client management
      operationId: get_all_clients
      description: |
        Returns all configured clients.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/clients-get'
                  - $ref: '#/components/schemas/took'
              examples:
                clients:
                  $ref: '#/components/examples/clients'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    post:
      summary: Add new client
      tags:
        - Client management
      operationId: add_client
      description: |
        Creates a new client in the `clients` object. The `{client}` itself is specified in the request body (POST JSON).

        Clients may be described either by their IP addresses (IPv4 and IPv6 are supported),
        IP subnets (CIDR notation, like `192.168.2.0/24`), their MAC addresses (like `12:34:56:78:9A:BC`), by their hostnames (like `localhost`), or by the interface they are connected to (prefaced with a colon, like `:eth0`).

        Note that client recognition by IP addresses (incl. subnet ranges) is preferred over MAC address, host name or interface recognition as the two latter will only be available after some time.
        Furthermore, MAC address recognition only works for devices at most one networking hop away from your Pi-hole.

        On success, a new resource is created at `/clients/{client}`.

        The `database_error` with message `UNIQUE constraint failed` error indicates that this client already exists.
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/clients-post'
                - $ref: '#/components/schemas/took'
      responses:
        '201':
          description: Created item
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/clients-get'
                  - $ref: '#/components/schemas/components-schemas-lists_processed'
                  - $ref: '#/components/schemas/took'
          headers:
            Location:
              $ref: '#/components/headers/Location'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/took'
                  - $ref: '#/components/schemas/errors-bad_request'
              examples:
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
                duplicate:
                  $ref: '#/components/examples/errors-database_error-duplicate'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/took'
                  - $ref: '#/components/schemas/unauthorized'
  /clients:batchDelete:
    post:
      summary: Delete multiple clients
      tags:
        - Client management
      operationId: batchDelete_clients
      description: |
        Deletes multiple clients in the `clients` object. The `{client}`s themselves are specified in the request body (POST JSON).

        Clients may be described either by their IP addresses (IPv4 and IPv6 are supported),
        IP subnets (CIDR notation, like `192.168.2.0/24`), their MAC addresses (like `12:34:56:78:9A:BC`), by their hostnames (like `localhost`), or by the interface they are connected to (prefaced with a colon, like `:eth0`).</p>

        *Note:* There will be no content on success.
      requestBody:
        description: Callback payload
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  item:
                    type: string
                    description: client IP / MAC / hostname / interface
                required:
                  - item
              example:
                - item: 192.168.2.5
                - item: '::1'
                - item: 12:34:56:78:9A:BC
                - item: localhost
                - item: ':eth0'
      responses:
        '204':
          description: Items deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /clients/_suggestions:
    get:
      summary: Get client suggestions
      tags:
        - Client management
      operationId: get_client_suggestions
      description: |
        Returns a list of unconfigured clients that have been seen by Pi-hole.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/schemas-suggestions'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /lists/{list}:
    summary: Modify list
    get:
      summary: Get lists
      parameters:
        - $ref: '#/components/parameters/list'
        - $ref: '#/components/parameters/listtype_optional'
      tags:
        - List management
      operationId: get_lists
      description: |
        `{list}` is optional. Specifying it will result in only the requested list being returned.

        Valid combinations are:
        - `/api/lists` (all lists)
        - `/api/lists/my_list` (list identical to `my_list`)
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/lists-get'
                  - $ref: '#/components/schemas/took'
              examples:
                lists:
                  $ref: '#/components/examples/lists'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    put:
      summary: Replace list
      parameters:
        - $ref: '#/components/parameters/list'
        - $ref: '#/components/parameters/listtype'
      tags:
        - List management
      operationId: replace_lists
      description: |
        Items may be updated by replacing them. `{list}` and `{listtype}` are required.

        Ensure to send all the required parameters (such as `comment`) to ensure these properties are retained.
        The read-only fields `id` and `date_added` are preserved, `date_modified` is automatically updated on success.
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/lists-put'
      responses:
        '200':
          description: Created or Updated Item
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/lists-get'
                  - $ref: '#/components/schemas/lists_components-schemas-lists_processed'
                  - $ref: '#/components/schemas/took'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                item_missing:
                  $ref: '#/components/examples/examples-errors-uri_error-item_missing'
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    delete:
      summary: Delete list
      parameters:
        - $ref: '#/components/parameters/list'
        - $ref: '#/components/parameters/listtype'
      tags:
        - List management
      operationId: delete_lists
      description: |
        `{list}` and `{listtype}` are required.
        *Note:* There will be no content on success.
      responses:
        '204':
          description: Item deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                item_missing:
                  $ref: '#/components/examples/examples-errors-uri_error-item_missing'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /lists:
    get:
      summary: Get all lists
      parameters:
        - $ref: '#/components/parameters/listtype_optional'
      tags:
        - List management
      operationId: get_all_lists
      description: |
        Returns all configured lists. Optionally filter by list type.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/lists-get'
                  - $ref: '#/components/schemas/took'
              examples:
                lists:
                  $ref: '#/components/examples/lists'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    post:
      summary: Add new list
      tags:
        - List management
      operationId: add_list
      description: |
        Creates a new list in the `lists` object. The `{list}` itself is specified in the request body (POST JSON).

        lists may be described either by their IP addresses (IPv4 and IPv6 are supported),
        IP subnets (CIDR notation, like `192.168.2.0/24`), their MAC addresses (like `12:34:56:78:9A:BC`), by their hostnames (like `localhost`), or by the interface they are connected to (prefaced with a colon, like `:eth0`).</p>

        Note that list recognition by IP addresses (incl. subnet ranges) is preferred over MAC address, host name or interface recognition as the two latter will only be available after some time.
        Furthermore, MAC address recognition only works for devices at most one networking hop away from your Pi-hole.

        On success, a new resource is created at `/lists/{list}`.

        The `database_error` with message `UNIQUE constraint failed` error indicates that this list already exists.
      parameters:
        - $ref: '#/components/parameters/listtype'
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/lists-post'
      responses:
        '201':
          description: Created item
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/lists-get'
                  - $ref: '#/components/schemas/lists_components-schemas-lists_processed'
                  - $ref: '#/components/schemas/took'
          headers:
            Location:
              $ref: '#/components/headers/Location'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
                duplicate:
                  $ref: '#/components/examples/examples-errors-database_error-duplicate'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /lists:batchDelete:
    post:
      summary: Delete lists
      tags:
        - List management
      operationId: batchDelete_lists
      description: |
        Deletes multiple lists in the `lists` object. The `{list}`s themselves are specified in the request body (POST JSON).
      requestBody:
        description: Callback payload
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  item:
                    type: string
                    description: group name
                  type:
                    type: string
                    enum:
                      - allow
                      - block
                    description: Type of list
              example:
                - item: https://hosts-file.net/ad_servers.txt
                  type: block
                - item: https://hosts-file.net/ad_servers2.txt
                  type: block
      responses:
        '204':
          description: Items deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                no_payload:
                  $ref: '#/components/examples/bad_request-no_payload'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /info/client:
    get:
      summary: Get information about requesting client
      tags:
        - FTL information
      security: []
      operationId: get_client
      description: |
        The property `timer` may contain additional details concerning a temporary en-/disabling.
        It is `null` when no timer is active (the current status is permanent).
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/remote_addr'
                  - $ref: '#/components/schemas/http_version'
                  - $ref: '#/components/schemas/method'
                  - $ref: '#/components/schemas/headers'
                  - $ref: '#/components/schemas/took'
  /info/system:
    get:
      summary: Get info about various system parameters
      tags:
        - FTL information
      operationId: get_systeminfo
      description: |
        This API hook returns a collection of various system infos.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/system'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /info/database:
    get:
      summary: Get info about long-term database
      tags:
        - FTL information
      operationId: get_dbinfo
      description: |
        This API hook returns a collection of various long-term database properties infos.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/database'
                  - $ref: '#/components/schemas/took'
  /info/ftl:
    get:
      summary: Get info about various ftl parameters
      tags:
        - FTL information
      operationId: get_ftlinfo
      description: |
        This API hook returns a collection of various ftl infos.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ftl'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /info/host:
    get:
      summary: Get info about various host parameters
      tags:
        - FTL information
      operationId: get_hostinfo
      description: |
        This API hook returns a collection of host infos.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/host'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /info/sensors:
    get:
      summary: Get info about various sensors
      tags:
        - FTL information
      operationId: get_sensors
      description: |
        This API hook returns a collection of various sensors.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sensors'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /info/version:
    get:
      summary: Get Pi-hole version
      tags:
        - FTL information
      operationId: get_version
      description: |
        Request versions of the individual Pi-hole components
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/version'
                  - $ref: '#/components/schemas/took'
  /info/messages:
    get:
      summary: Get Pi-hole diagnosis messages
      tags:
        - FTL information
      operationId: get_messages
      description: |
        Request Pi-hole diagnosis messages
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/messages'
                  - $ref: '#/components/schemas/took'
  /info/messages/{message_id}:
    delete:
      summary: Delete Pi-hole diagnosis message
      tags:
        - FTL information
      operationId: delete_message
      parameters:
        - $ref: '#/components/parameters/message_id'
      description: |
        You may specify multiple IDs to delete multiple messages at once (comma-separated in the path like `1,2,3`)
      responses:
        '204':
          description: Item deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                uri_error:
                  $ref: '#/components/examples/uri_error'
                bad_request:
                  $ref: '#/components/examples/bad_request'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /info/messages/count:
    get:
      summary: Get count of Pi-hole diagnosis messages
      tags:
        - FTL information
      operationId: get_messages_count
      description: |
        Request number of Pi-hole diagnosis messages
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/count'
                  - $ref: '#/components/schemas/took'
  /info/metrics:
    get:
      summary: Get metrics info
      tags:
        - FTL information
      operationId: get_metricsinfo
      description: |
        This API hook returns live information about the DNS and DHCP metrics.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/metrics'
                  - $ref: '#/components/schemas/took'
              examples:
                metrics:
                  $ref: '#/components/examples/metrics'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /info/login:
    get:
      summary: Login page related information
      tags:
        - FTL information
      operationId: get_logininfo
      security: []
      description: |
        This API hook returns information used on the login page to possibly display messages/warnings.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/login'
                  - $ref: '#/components/schemas/took'
  /logs/dnsmasq:
    get:
      summary: Get DNS log content
      tags:
        - FTL information
      operationId: get_dns_log
      description: |
        This API hook returns content from the log of the embedded DNS resolver `dnsmasq`.

        Every successful request will return a `nextID`.
        This ID can be used on the next request to only get lines which were added *after* the last request.
        This makes periodic polling for new log lines easy as no check for duplicated log lines is necessary.
        The expected behavior for an immediate re-request of a log line with the same ID is an empty response.
        As soon as the next message arrived, this will be included in your request and `nextID` is incremented by one.
      parameters:
        - $ref: '#/components/parameters/nextID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/log'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /logs/ftl:
    get:
      summary: Get DNS log content
      tags:
        - FTL information
      operationId: get_ftl_log
      description: |
        This API hook returns content from the log of FTL.

        Every successful request will return a `nextID`.
        This ID can be used on the next request to only get lines which were added *after* the last request.
        This makes periodic polling for new log lines easy as no check for duplicated log lines is necessary.
        The expected behavior for an immediate re-request of a log line with the same ID is an empty response.
        As soon as the next message arrived, this will be included in your request and `nextID` is incremented by one.
      parameters:
        - $ref: '#/components/parameters/nextID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/log'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /logs/webserver:
    get:
      summary: Get DNS log content
      tags:
        - FTL information
      operationId: get_webserver_log
      description: |
        This API hook returns content from the log of the embedded CivetWeb HTTP server.

        Every successful request will return a `nextID`.
        This ID can be used on the next request to only get lines which were added *after* the last request.
        This makes periodic polling for new log lines easy as no check for duplicated log lines is necessary.
        The expected behavior for an immediate re-request of a log line with the same ID is an empty response.
        As soon as the next message arrived, this will be included in your request and `nextID` is incremented by one.
      parameters:
        - $ref: '#/components/parameters/nextID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/log'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /endpoints:
    get:
      summary: Get list of available API endpoints
      tags:
        - FTL information
      operationId: get_endpoints
      description: |
        This API hook returns the list of all available API endpoints.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/endpoints'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /config:
    get:
      summary: Get current configuration of your Pi-hole
      tags:
        - Pi-hole Configuration
      operationId: get_config
      description: |
        This API hook returns infos about the config of your Pi-hole.
      parameters:
        - $ref: '#/components/parameters/detailed'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/config'
                  - $ref: '#/components/schemas/took'
              examples:
                config:
                  $ref: '#/components/examples/config'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    patch:
      summary: Change configuration of your Pi-hole
      tags:
        - Pi-hole Configuration
      operationId: patch_config
      description: |
        This API hook allows to modify the config of your Pi-hole. This endpoint supports changing multiple properties at once when you specify several in the payload. See examples below.
      parameters:
        - $ref: '#/components/parameters/restart'
      requestBody:
        description: Callback payload
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/config'
                - $ref: '#/components/schemas/took'
            examples:
              config_one:
                $ref: '#/components/examples/config_one'
              config_two:
                $ref: '#/components/examples/config_two'
              config:
                $ref: '#/components/examples/config'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/config'
                  - $ref: '#/components/schemas/took'
              examples:
                config:
                  $ref: '#/components/examples/config'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /config/{element}:
    get:
      summary: Get specific part of current configuration of your Pi-hole
      tags:
        - Pi-hole Configuration
      operationId: get_config_elem
      description: |
        This API hook returns infos about the requested subset of your Pi-hole's configuration.
        The response will be a filtered JSON object and a subset of the full `GET /config` response.
      parameters:
        - $ref: '#/components/parameters/detailed'
        - $ref: '#/components/parameters/element'
      responses:
        '200':
          description: OK
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /config/{element}/{value}:
    put:
      summary: Add config array item
      tags:
        - Pi-hole Configuration
      operationId: add_array_item
      description: |
        *Note:* There will be no content on success.
      parameters:
        - $ref: '#/components/parameters/element'
        - $ref: '#/components/parameters/value'
        - $ref: '#/components/parameters/restart'
      responses:
        '201':
          description: Item created
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                invalid_path_depth:
                  $ref: '#/components/examples/invalid_path_depth'
                item_already_present:
                  $ref: '#/components/examples/item_already_present'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    delete:
      summary: Delete config array item
      tags:
        - Pi-hole Configuration
      operationId: delete_array_item
      description: |
        *Note:* There will be no content on success.
      parameters:
        - $ref: '#/components/parameters/element'
        - $ref: '#/components/parameters/value'
        - $ref: '#/components/parameters/restart'
      responses:
        '204':
          description: Item deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                invalid_path_depth:
                  $ref: '#/components/examples/invalid_path_depth'
                item_already_present:
                  $ref: '#/components/examples/item_already_present'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /network/devices:
    get:
      summary: Get info about the devices in your local network as seen by your Pi-hole
      tags:
        - Network information
      operationId: get_network
      description: |
        This API hook returns infos about the devices in your local network as seen by your Pi-hole. By default, this number of shown devices is limited to 10. Devices are ordered by when your Pi-hole has received the last query from this device (most recent first)
      parameters:
        - $ref: '#/components/parameters/max_devices'
        - $ref: '#/components/parameters/max_addresses'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/devices'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /network/devices/{device_id}:
    delete:
      summary: Delete a device from the network table
      tags:
        - Network information
      operationId: delete_device
      description: |
        This API hook deletes a device from the network table. This will also remove all associated IP addresses and hostnames.
      parameters:
        - $ref: '#/components/parameters/device_id'
      responses:
        '204':
          description: No Content (deleted)
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /network/gateway:
    get:
      summary: Get info about the gateway of your Pi-hole
      tags:
        - Network information
      operationId: get_gateway
      description: |
        This API hook returns infos about the gateway of your Pi-hole.

        If the optional parameter `detailed` is set to `true`, the response will include detailed information about the individual interfaces and routes. Note that the available information is dependent on the interface type and state.
      parameters:
        - $ref: '#/components/parameters/devices-detailed'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/gateway'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /network/routes:
    get:
      summary: Get info about the routes of your Pi-hole
      tags:
        - Network information
      operationId: get_routes
      parameters:
        - $ref: '#/components/parameters/devices-detailed'
      description: |
        This API hook returns infos about the networking routes of your Pi-hole. Note that not all described fields are applicable to any routing type. Users must not rely on the presence of any field without checking the route type first.

        If the optional parameter `detailed` is set to `true`, the response will include more detailed information about the individual routes where the available information is dependent on the route type and state.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/routes'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /network/interfaces:
    get:
      summary: Get info about the interfaces of your Pi-hole
      tags:
        - Network information
      operationId: get_interfaces
      parameters:
        - $ref: '#/components/parameters/devices-detailed'
      description: |
        This API hook returns infos about the networking interfaces of your Pi-hole. Note that not all described fields are applicable to any routing type. Users must not rely on the presence of any field without checking the route type first.

        If the optional parameter `detailed` is set to `true`, the response will include more detailed information about the individual interfaces where the available information is dependent on the interface type and state.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/interfaces'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /teleporter:
    get:
      summary: Export Pi-hole settings
      tags:
        - Pi-hole configuration
      operationId: get_teleporter
      description: |
        Request an archived copy of your Pi-hole's current configuration.
        Authentication via header or cookie is required for the endpoint.
      responses:
        '200':
          description: OK
          content:
            application/zip:
              schema:
                type: string
                format: binary
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
    post:
      summary: Import Pi-hole settings
      tags:
        - Pi-hole configuration
      operationId: post_teleporter
      description: |
        Upload a Pi-hole Teleporter archive to (partially) restore from it. Note that this will overwrite your current configuration.
        Authentication via header or cookie is required for the endpoint.
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                file:
                  type: string
                  format: binary
                import:
                  type: object
                  nullable: true
                  properties:
                    config:
                      type: boolean
                      description: Import Pi-hole configuration
                      example: true
                    dhcp_leases:
                      type: boolean
                      description: Import Pi-hole DHCP leases
                      example: true
                    gravity:
                      type: object
                      properties:
                        group:
                          type: boolean
                          description: Import Pi-hole's groups table
                          example: true
                        adlist:
                          type: boolean
                          description: Import Pi-hole's adlist table
                          example: true
                        adlist_by_group:
                          type: boolean
                          description: Import Pi-hole's table relating adlist entries to groups
                          example: true
                        domainlist:
                          type: boolean
                          description: Import Pi-hole's domainlist table
                          example: true
                        domainlist_by_group:
                          type: boolean
                          description: Import Pi-hole's table relating domainlist entries to groups
                          example: true
                        client:
                          type: boolean
                          description: Import Pi-hole's client table
                          example: true
                        client_by_group:
                          type: boolean
                          description: Import Pi-hole's table relating client entries to groups
                          example: true
                  description: A JSON object of files to import. If omitted, all files will be imported.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/teleporter-post'
                  - $ref: '#/components/schemas/took'
              examples:
                teleporter:
                  $ref: '#/components/examples/teleporter'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/invalid_zip'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /action/gravity:
    post:
      summary: Run gravity
      parameters:
        - $ref: '#/components/parameters/color'
      tags:
        - Actions
      operationId: action_gravity
      description: |
        Update Pi-hole's adlists by running `pihole -g`. The output of the process is streamed with chunked encoding. Use the optional `color` query parameter to include ANSI color escape codes in the output.
      responses:
        '200':
          description: OK
          content:
            text/plain:
              schema:
                type: string
                example: |
                  [i] Neutrino emissions detected...

                  [] Pulling blocklist source list into range

                  [i] Preparing new gravity database...
                  [] Preparing new gravity database
                  [i] Using libz compression

                  [i] Target: https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
                  [] Status: Retrieval successful
                  [i] Imported 172502 domains, ignoring 3 non-domain entries
                      Sample of non-domain entries:
                        - 0.0.0.0
                        - fe
                        - ff
                  [i] List stayed unchanged

                  [i] Target: https://v.firebog.net/hosts/AdguardDNS.txt
                  [] Status: No changes detected
                  [i] Imported 47225 domains

                  [] Creating new gravity databases
                  [] Storing downloaded domains in new gravity database
                  [] Building tree
                  [] Swapping databases
                  [] The old database remains available.
                  [i] Number of gravity domains: 219727 (215440 unique domains)
                  [i] Number of exact blacklisted domains: 0
                  [i] Number of regex blacklist filters: 2
                  [i] Number of exact whitelisted domains: 0
                  [i] Number of regex whitelist filters: 0
                  [] Cleaning up stray matter

                  [] FTL is listening on port
                     [] UDP (IPv4)
                     [] TCP (IPv4)
                     [] UDP (IPv6)
                     [] TCP (IPv6)

                  [] Pi-hole blocking is enabled
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /action/restartdns:
    post:
      summary: Restart pihole-FTL
      tags:
        - Actions
      operationId: action_restartdns
      description: |
        Restarts the pihole-FTL service
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/success'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /action/flush/logs:
    post:
      summary: Flush the DNS logs
      tags:
        - Actions
      operationId: action_flushlogs
      description: |
        Flushes the DNS logs. This includes emptying the DNS log file and purging the most recent 24 hours from both the database and FTL's internal memory.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/success'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /action/flush/arp:
    post:
      summary: Flush the network table
      tags:
        - Actions
      operationId: action_flusharp
      deprecated: true
      description: |
        Deprecated! Use '/action/flush/network' instead.
        Flushes the network table. This includes removing both all known devices and their associated addresses.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/success'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/forbidden'
  /action/flush/network:
    post:
      summary: Flush the network table
      tags:
        - Actions
      operationId: action_flushnetwork
      description: |
        Flushes the network table. This includes removing both all known devices and their associated addresses.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/success'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/forbidden'
                  - $ref: '#/components/schemas/took'
  /dhcp/leases:
    get:
      summary: Get currently active DHCP leases
      tags:
        - DHCP
      operationId: get_dhcp
      description: |
        This API hook returns the currently active DHCP leases.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/leases'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /dhcp/leases/{ip}:
    parameters:
      - $ref: '#/components/parameters/ip'
    delete:
      summary: Remove DHCP lease
      tags:
        - DHCP
      operationId: delete_dhcp
      description: |
        This API hook removes a currently active DHCP lease.
        Managing DHCP leases is only possible when the DHCP server is enabled.
        *Note:* There will be no content on success.
      responses:
        '204':
          description: Item deleted
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errors-bad_request'
                  - $ref: '#/components/schemas/took'
              examples:
                item_missing:
                  $ref: '#/components/examples/components-examples-errors-uri_error-item_missing'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/took'
  /search/{domain}:
    parameters:
      - $ref: '#/components/parameters/parameters-domain'
    get:
      summary: Search domains in Pi-hole's lists
      tags:
        - List management
      operationId: get_search
      parameters:
        - $ref: '#/components/parameters/partial'
        - $ref: '#/components/parameters/parameters-N'
        - $ref: '#/components/parameters/debug'
      description: |
        Search for domains in Pi-hole's list. The specified domain is automatically converted to lowercase.
        The optional parameters `N` and `partial` limit the maximum number of returned records and whether partial matches should be returned, respectively.
        There is a hard upper limit of `N` defined in FTL (currently set to 10,000) to ensure that the response is not too large.
        ABP matches are not returned when partial matching is requested.
        International domains names (IDNs) are internally converted to punycode before matching.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/search'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
  /docs:
    summary: Pi-hole's API documentation
    get:
      summary: Get the embedded API documentation rendered as HTML
      tags:
        - Documentation
      operationId: get_docs
      security: []
      description: |
        This API hook returns the embedded API documentation rendered as HTML. Note that this endpoint is supposed to be accessed from web browsers only. The automatically generated `curl` example will *not* create a *full* (as in: self-contained) clone of the documentation.
      responses:
        '200':
          description: OK
          content:
            text/html:
              schema:
                description: HTML document
                type: string
                example: |
                  <!DOCTYPE html>
                  <html lang="en">
                  <head>
                    <meta charset="utf-8">
                    <title>API Documentation</title>
                  </body>
                  </html>
  /padd:
    get:
      summary: Get summarized data for PADD
      tags:
        - PADD
      operationId: get_padd
      parameters:
        - in: query
          description: (Optional) Return full data
          name: full
          schema:
            type: boolean
          required: false
          example: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/padd'
                  - $ref: '#/components/schemas/system'
                  - $ref: '#/components/schemas/version'
                  - $ref: '#/components/schemas/took'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/unauthorized'
                  - $ref: '#/components/schemas/took'
components:
  securitySchemes:
    query_sid:
      type: apiKey
      in: query
      name: sid
    cookie_sid:
      type: apiKey
      in: cookie
      name: sid
    header_sid:
      type: apiKey
      in: header
      name: sid
    x_header_sid:
      type: apiKey
      in: header
      name: X-FTL-SID
    query_password:
      type: apiKey
      in: query
      name: password
  schemas:
    session:
      type: object
      required:
        - session
      properties:
        session:
          type: object
          description: Session object
          required:
            - valid
            - sid
            - validity
            - message
            - totp
          properties:
            valid:
              type: boolean
              description: Valid session indicator (client is authenticated)
            totp:
              type: boolean
              description: Whether 2FA (TOTP) is enabled on this Pi-hole
            sid:
              type: string
              description: Session ID
              nullable: true
            csrf:
              type: string
              description: CSRF token
              nullable: true
            validity:
              type: integer
              description: Remaining lifetime of this session unless refreshed (seconds)
            message:
              type: string
              description: Human-readable message describing the session status
              nullable: true
    took:
      type: object
      properties:
        took:
          type: number
          description: Time in seconds it took to process the request
          example: 0.003
    password:
      type: object
      description: Password to be sent to the API
      properties:
        password:
          type: string
          description: Password to be used for login
          example: abcdef
    bad_request:
      type: object
      description: Bad request
      properties:
        error:
          type: object
          properties:
            key:
              type: string
              description: Machine-readable error type
            message:
              type: string
              description: Human-readable error message
            hint:
              type: string
              description: Additional data (if available)
              nullable: true
    unauthorized:
      type: object
      description: Authentication required
      properties:
        error:
          type: object
          properties:
            key:
              type: string
              description: Machine-readable error type
              example: unauthorized
            message:
              type: string
              description: Human-readable error message
              example: Unauthorized
            hint:
              type: string
              nullable: true
              description: No additional data available
              example: null
    too_many_requests:
      type: object
      description: Too many requests (rate limiting)
      properties:
        error:
          type: object
          properties:
            key:
              type: string
              description: Machine-readable error type
              example: too_many_requests
            message:
              type: string
              description: Human-readable error message
              example: Too many requests
            hint:
              type: string
              nullable: true
              description: No additional data available
              example: null
    sessions_list:
      type: object
      description: List of all current sessions
      properties:
        sessions:
          type: array
          items:
            type: object
            description: Session object
            properties:
              id:
                type: number
                description: Session ID
              current_session:
                type: boolean
                description: Indicator if this is the current session
              valid:
                type: boolean
                description: Valid session indicator (existing sessions may be invalid due to timeout)
              tls:
                type: object
                description: TLS (end-to-end encryption) information
                properties:
                  login:
                    type: boolean
                    description: Indicator if TLS (end-to-end encryption) has been used during login for this session
                  mixed:
                    type: boolean
                    description: Indicator if TLS (end-to-end encryption) is used only partially for this session
              app:
                type: boolean
                description: Indicator if this session was initiated using an application password
              cli:
                type: boolean
                description: Indicator if this session was initiated using the command-line interface (CLI)
              login_at:
                type: integer
                description: Timestamp of login (seconds since epoch)
              last_active:
                type: integer
                description: Timestamp of last activity (seconds since epoch)
              valid_until:
                type: integer
                description: Timestamp of session expiration (seconds since epoch)
              remote_addr:
                type: string
                description: IP address of the client
              user_agent:
                type: string
                nullable: true
                description: User agent of the client (optional)
              x_forwarded_for:
                type: string
                nullable: true
                description: IP address of the client (if behind a proxy, optional)
          example:
            - id: 1
              current_session: true
              valid: true
              tls:
                login: true
                mixed: false
              app: false
              cli: false
              login_at: 1580000000
              last_active: 1580000000
              valid_until: 1580000300
              remote_addr: 192.168.0.34
              user_agent: Mozilla/5.0 (X11; Linux x86_64; rv:107.0) Gecko/20100101 Firefox/107.0
              x_forwarded_for: null
    totp:
      type: object
      description: TOTP secret suggestion
      properties:
        totp:
          type: object
          properties:
            type:
              type: string
            account:
              type: string
            issuer:
              type: string
            algorithm:
              type: string
            digits:
              type: integer
            period:
              type: integer
            offset:
              type: integer
            secret:
              type: string
            codes:
              type: array
              items:
                type: integer
    app:
      type: object
      description: Application password
      properties:
        app:
          type: object
          properties:
            password:
              type: string
            hash:
              type: string
          example:
            password: 7ua0rHPZixX6B3bTa5o4Dv08iyEIm/2q9qgLrF9MNVw=
            hash: $BALLOON-SHA256$v=1$s=1024,t=32$4ERwJD4XucRP4PcDHNLiAg==$kSy0Eou8RUVtK2UTbc5MCpItV8YC3VRuoGhoENxSQ2I=
    queries:
      type: object
      properties:
        queries:
          type: object
          properties:
            total:
              type: integer
              description: Total number of queries
              example: 7497
            blocked:
              type: integer
              description: Number of blocked queries
              example: 3465
            percent_blocked:
              type: number
              description: Percent of blocked queries
              example: 34.5
            unique_domains:
              type: integer
              description: Number of unique domains FTL knows
              example: 445
            forwarded:
              type: integer
              description: Number of queries that have been forwarded upstream
              example: 4574
            cached:
              type: integer
              description: Number of queries replied to from cache or local configuration
              example: 9765
            frequency:
              type: number
              description: Average number of queries per second
              example: 1.1
            types:
              type: object
              description: Number of individual queries
              properties:
                A:
                  type: integer
                  description: Type A queries
                  example: 3643
                AAAA:
                  type: integer
                  description: Type AAAA queries
                  example: 123
                ANY:
                  type: integer
                  description: Type ANY queries
                  example: 3423
                SRV:
                  type: integer
                  description: Type SRV queries
                  example: 345
                SOA:
                  type: integer
                  description: Type SOA queries
                  example: 7567
                PTR:
                  type: integer
                  description: Type PTR queries
                  example: 456
                TXT:
                  type: integer
                  description: Type TXT queries
                  example: 85
                NAPTR:
                  type: integer
                  description: Type NAPTR queries
                  example: 346
                MX:
                  type: integer
                  description: Type MX queries
                  example: 457
                DS:
                  type: integer
                  description: Type DS queries
                  example: 456
                RRSIG:
                  type: integer
                  description: Type RRSIG queries
                  example: 345
                DNSKEY:
                  type: integer
                  description: Type DNSKEY queries
                  example: 55
                NS:
                  type: integer
                  description: Type NS queries
                  example: 868
                SVCB:
                  type: integer
                  description: Type SVCB queries
                  example: 645
                HTTPS:
                  type: integer
                  description: Type HTTPS queries
                  example: 4
                OTHER:
                  type: integer
                  description: Queries of remaining types
                  example: 845
            status:
              type: object
              description: Number of individual queries (by status)
              properties:
                UNKNOWN:
                  type: integer
                  description: Type UNKNOWN queries
                  example: 3
                GRAVITY:
                  type: integer
                  description: Type GRAVITY queries
                  example: 72
                FORWARDED:
                  type: integer
                  description: Type FORWARDED queries
                  example: 533
                CACHE:
                  type: integer
                  description: Type CACHE queries
                  example: 32
                REGEX:
                  type: integer
                  description: Type REGEX queries
                  example: 84
                DENYLIST:
                  type: integer
                  description: Type DENYLIST queries
                  example: 31
                EXTERNAL_BLOCKED_IP:
                  type: integer
                  description: Type EXTERNAL_BLOCKED_IP queries
                  example: 0
                EXTERNAL_BLOCKED_NULL:
                  type: integer
                  description: Type EXTERNAL_BLOCKED_NULL queries
                  example: 0
                EXTERNAL_BLOCKED_NXRA:
                  type: integer
                  description: Type EXTERNAL_BLOCKED_NXRA queries
                  example: 0
                GRAVITY_CNAME:
                  type: integer
                  description: Type GRAVITY_CNAME queries
                  example: 0
                REGEX_CNAME:
                  type: integer
                  description: Type REGEX_CNAME queries
                  example: 0
                DENYLIST_CNAME:
                  type: integer
                  description: Type DENYLIST_CNAME queries
                  example: 0
                RETRIED:
                  type: integer
                  description: Type RETRIED queries
                  example: 0
                RETRIED_DNSSEC:
                  type: integer
                  description: Type RETRIED_DNSSEC queries
                  example: 0
                IN_PROGRESS:
                  type: integer
                  description: Type IN_PROGRESS queries
                  example: 0
                DBBUSY:
                  type: integer
                  description: Type DBBUSY queries
                  example: 0
                SPECIAL_DOMAIN:
                  type: integer
                  description: Type SPECIAL_DOMAIN queries
                  example: 0
                CACHE_STALE:
                  type: integer
                  description: Type CACHE_STALE queries
                  example: 0
                EXTERNAL_BLOCKED_EDE15:
                  type: integer
                  description: Type EXTERNAL_BLOCKED_EDE15 queries
                  example: 0
            replies:
              type: object
              description: Number of individual replies
              properties:
                UNKNOWN:
                  type: integer
                  description: Type UNKNOWN replies
                  example: 3
                NODATA:
                  type: integer
                  description: Type NODATA replies
                  example: 72
                NXDOMAIN:
                  type: integer
                  description: Type NXDOMAIN replies
                  example: 533
                CNAME:
                  type: integer
                  description: Type CNAME replies
                  example: 32
                IP:
                  type: integer
                  description: Type IP replies
                  example: 84
                DOMAIN:
                  type: integer
                  description: Type DOMAIN replies
                  example: 31
                RRNAME:
                  type: integer
                  description: Type RRNAME replies
                  example: 0
                SERVFAIL:
                  type: integer
                  description: Type SERVFAIL replies
                  example: 0
                REFUSED:
                  type: integer
                  description: Type REFUSED replies
                  example: 0
                NOTIMP:
                  type: integer
                  description: Type NOTIMP replies
                  example: 0
                OTHER:
                  type: integer
                  description: Type OTHER replies
                  example: 0
                DNSSEC:
                  type: integer
                  description: Type DNSSEC replies
                  example: 31
                NONE:
                  type: integer
                  description: Type NONE replies
                  example: 0
                BLOB:
                  type: integer
                  description: Type BLOB replies
                  example: 0
        clients:
          type: object
          properties:
            active:
              type: integer
              description: Number of active clients (seen in the last 24 hours)
              example: 10
            total:
              type: integer
              description: Total number of clients seen by FTL
              example: 22
        gravity:
          type: object
          properties:
            domains_being_blocked:
              type: integer
              description: Number of domain on your Pi-hole's gravity list
              example: 104756
            last_update:
              type: integer
              description: Unix timestamp of last gravity update (may be `0` if unknown)
              example: 1725194639
    database_summary:
      type: object
      properties:
        sum_queries:
          type: integer
          description: Total number of queries
          example: 29160
        sum_blocked:
          type: integer
          description: Total number of blocked queries
          example: 6379
        percent_blocked:
          type: number
          description: Percentage of blocked queries
          example: 21.9
        total_clients:
          type: integer
          description: Total number of clients
          example: 10
    upstreams:
      type: object
      properties:
        upstreams:
          type: array
          description: Array of upstream destinations
          items:
            type: object
            properties:
              ip:
                type: string
                description: Upstream destination's IP address (can be either IPv4 or IPv6)
                nullable: true
                example: 127.0.0.1
              name:
                type: string
                description: Upstream destination's hostname (if available)
                nullable: true
                example: localhost
              port:
                type: integer
                description: Upstream destination's destination port (-1 if not applicable, e.g., for the local cache)
                example: 53
              count:
                type: integer
                description: Number of queries this upstream destination has been used for
                example: 65445
              statistics:
                type: object
                properties:
                  response:
                    type: number
                    description: Average response time of this upstream destination in seconds (0 if not applicable)
                    example: 0.0254856
                  variance:
                    type: number
                    description: Standard deviation of the average response time (0 if not applicable)
                    example: 0.02058
        forwarded_queries:
          type: integer
          description: Number of forwarded queries
          example: 6379
        total_queries:
          type: integer
          description: Total number of queries
          example: 29160
    top_domains:
      type: object
      properties:
        domains:
          type: array
          description: Array of domains
          items:
            type: object
            properties:
              domain:
                type: string
                description: Requested domain
                example: pi-hole.net
              count:
                type: integer
                description: Number of times this domain has been requested
                example: 8516
        total_queries:
          type: integer
          description: Total number of queries
          example: 29160
        blocked_queries:
          type: integer
          description: Number of blocked queries
          example: 6379
    top_clients:
      type: object
      properties:
        clients:
          type: array
          description: Array of clients
          items:
            type: object
            properties:
              ip:
                type: string
                description: Client IP address (can be either IPv4 or IPv6)
                example: 192.168.0.44
              name:
                type: string
                description: Client hostname (if available)
                example: raspberrypi.lan
              count:
                type: integer
                description: Number of queries this client has made
                example: 5896
        total_queries:
          type: integer
          description: Total number of queries
          example: 29160
        blocked_queries:
          type: integer
          description: Number of blocked queries
          example: 6379
    query_types:
      type: object
      properties:
        types:
          type: object
          description: Number of individual query types
          properties:
            A:
              type: integer
              description: Type A queries
              example: 18268
            AAAA:
              type: integer
              description: Type AAAA queries
              example: 2332
            ANY:
              type: integer
              description: Type ANY queries
              example: 0
            SRV:
              type: integer
              description: Type SRV queries
              example: 6
            SOA:
              type: integer
              description: Type SOA queries
              example: 44
            PTR:
              type: integer
              description: Type PTR queries
              example: 389
            TXT:
              type: integer
              description: Type TXT queries
              example: 0
            NAPTR:
              type: integer
              description: Type NAPTR queries
              example: 1
            MX:
              type: integer
              description: Type MX queries
              example: 109
            DS:
              type: integer
              description: Type DS queries
              example: 596
            RRSIG:
              type: integer
              description: Type RRSIG queries
              example: 25
            DNSKEY:
              type: integer
              description: Type DNSKEY queries
              example: 240
            NS:
              type: integer
              description: Type NS queries
              example: 18
            SVCB:
              type: integer
              description: Type SVCB queries
              example: 0
            HTTPS:
              type: integer
              description: Type HTTPS queries
              example: 11
            OTHER:
              type: integer
              description: Type OTHER queries
              example: 0
    recent_blocked:
      type: object
      properties:
        blocked:
          type: array
          description: List of blocked domains
          items:
            type: string
          example:
            - doubleclick.net
    total_history:
      type: object
      properties:
        history:
          type: array
          description: Data array
          items:
            type: object
            properties:
              timestamp:
                type: number
                description: Timestamp
              total:
                type: integer
                description: Total number of queries
              cached:
                type: integer
                description: Number of cached queries
              blocked:
                type: integer
                description: Number of blocked queries
              forwarded:
                type: integer
                description: Number of forwarded queries
          example:
            - timestamp: 1511819900.539157
              total: 2134
              cached: 525
              blocked: 413
              forwarded: 1196
            - timestamp: 1511820500.583821
              total: 2014
              cached: 52
              blocked: 43
              forwarded: 1910
    client_history:
      type: object
      properties:
        clients:
          type: object
          description: Data corresponding to the individual clients
          additionalProperties:
            type: object
            properties:
              name:
                type: string
                nullable: true
                description: Client name
              total:
                type: integer
                description: Total number of queries
          example:
            127.0.0.1:
              name: localhost
              total: 13428
            '::1':
              name: ip6-localnet
              total: 2100
            192.168.1.1:
              name: null
              total: 254
            '::':
              name: pi.hole
              total: 29
            0.0.0.0:
              name: other clients
              total: 14
        history:
          type: array
          description: Data array
          items:
            type: object
            properties:
              timestamp:
                type: number
                description: Timestamp
              data:
                type: object
                description: Data corresponding to the individual clients
                additionalProperties:
                  type: integer
                  description: Number of queries for the corresponding client
          example:
            - timestamp: 1511819900.539157
              data:
                127.0.0.1: 35
                '::1': 63
                192.168.1.1: 20
                '::': 9
                0.0.0.0: 0
            - timestamp: 1511820500.583821
              data:
                127.0.0.1: 10
                '::1': 44
                192.168.1.1: 56
                '::': 52
    schemas-queries:
      type: object
      properties:
        queries:
          type: array
          description: Data array
          items:
            type: object
            properties:
              id:
                type: integer
                description: Query ID in the long-term database
              time:
                type: number
                description: Timestamp
              type:
                type: string
                description: Query type
              domain:
                type: string
                description: Queried domain
              cname:
                type: string
                description: Domain blocked during deep CNAME inspection
                nullable: true
              status:
                type: string
                description: Query status
                nullable: true
              client:
                type: object
                properties:
                  ip:
                    type: string
                    description: Requesting client's IP address
                  name:
                    type: string
                    description: Requesting client's hostname (if available)
                    nullable: true
              dnssec:
                type: string
                description: DNSSEC status
                nullable: true
              reply:
                type: object
                properties:
                  type:
                    type: string
                    description: Reply type
                    nullable: true
                  time:
                    type: number
                    description: Time until the response was received (ms, negative if N/A)
              list_id:
                type: integer
                description: ID of corresponding database table (adlist for anti-/gravity, else domainlist) (`NULL` if N/A)
                nullable: true
              upstream:
                type: string
                description: IP or name + port of upstream server
                nullable: true
              ede:
                type: object
                description: Extended DNS Error (EDE) information
                properties:
                  code:
                    type: integer
                    description: EDE code
                  text:
                    type: string
                    nullable: true
                    description: EDE message (if available)
          example:
            - time: 1581907991.539157
              type: A
              domain: community.stoplight.io
              cname: null
              status: FORWARDED
              client:
                ip: 192.168.0.14
                name: desktop.lan
              dnssec: INSECURE
              reply:
                type: IP
                time: 19
              list_id: null
              upstream: localhost#5353
              id: 112421354
              ede:
                code: 0
                text: null
            - time: 1581907871.583821
              type: AAAA
              domain: api.github.com
              cname: null
              status: FORWARDED
              client:
                ip: 127.0.0.1
                name: localhost
              dnssec: UNKNOWN
              reply:
                type: IP
                time: 12.3
              list_id: null
              upstream: localhost#5353
              id: 112421355
              ede:
                code: 0
                text: null
        cursor:
          type: integer
          description: Database ID of most recent query to show
          example: 175881
        recordsTotal:
          type: integer
          description: Total number of available queries
          example: 1234
        recordsFiltered:
          type: integer
          description: Number of available queries after filtering
          example: 1234
        draw:
          type: integer
          description: DataTables-specific integer (echos input value)
          example: 1
    suggestions:
      type: object
      properties:
        suggestions:
          type: object
          properties:
            domain:
              type: array
              description: Array of suggested domains
              items:
                type: string
              example:
                - pi-hole.net
                - amazon.com
            client_ip:
              type: array
              description: Array of suggested client IP addresses
              items:
                type: string
            client_name:
              type: array
              description: Array of suggested client names
              items:
                type: string
            upstream:
              type: array
              description: Array of suggested upstreams
              items:
                type: string
            type:
              type: array
              description: Array of suggested query types
              items:
                type: string
            status:
              type: array
              description: Array of suggested query statuses
              items:
                type: string
            reply:
              type: array
              description: Array of suggested query replies
              items:
                type: string
            dnssec:
              type: array
              description: Array of suggested DNSSEC statuses
              items:
                type: string
    blocking:
      type: object
      properties:
        blocking:
          type: string
          description: Blocking status
          enum:
            - enabled
            - disabled
            - failed
            - unknown
          example: enabled
    timer:
      type: object
      properties:
        timer:
          type: number
          description: Remaining seconds until blocking mode is automatically changed
          nullable: true
          example: 15
    blocking_bool:
      type: object
      properties:
        blocking:
          type: boolean
          description: Blocking status
          default: true
          example: true
    no_payload:
      type: object
      description: No JSON payload found
      properties:
        error:
          type: object
          properties:
            key:
              type: string
              description: Machine-readable error type
              example: bad_request
            message:
              type: string
              description: Human-readable error message
              example: Invalid request body data (no valid JSON)
            hint:
              type: string
              nullable: true
              description: Additional data (if available)
              example: null
    item_missing:
      type: object
      description: Item to be modified is missing
      properties:
        error:
          type: object
          properties:
            key:
              type: string
              description: Machine-readable error type
              example: body_error
            message:
              type: string
              description: Human-readable error message
              example: No \"blocking\" boolean in body data
            hint:
              type: string
              nullable: true
              description: Additional data (if available)
              example: null
    domain:
      description: Domain
      type: string
      example: testdomain.com
    domain_object:
      type: object
      properties:
        domain:
          $ref: '#/components/schemas/domain'
    unicode:
      type: object
      properties:
        unicode:
          description: Unicode domain (may be different from `domain` if punycode-encoding is used)
          type: string
          example: bc.com
    type:
      type: object
      properties:
        type:
          description: String specifying domain type
          type: string
          enum:
            - allow
            - deny
          example: allow
    kind:
      type: object
      properties:
        kind:
          description: String specifying domain kind
          type: string
          enum:
            - exact
            - regex
          example: exact
    comment:
      type: object
      properties:
        comment:
          description: User-provided free-text comment for this domain
          type: string
          nullable: true
          default: null
          example: Some comment describing this domain
    groups:
      type: object
      properties:
        groups:
          description: Array of group IDs
          type: array
          items:
            type: integer
    enabled:
      type: object
      properties:
        enabled:
          description: Status of domain
          type: boolean
          default: true
    readonly:
      type: object
      properties:
        id:
          description: Database ID
          type: integer
          readOnly: true
        date_added:
          description: Unix timestamp of domain addition
          type: integer
          readOnly: true
        date_modified:
          description: Unix timestamp of last domain modification
          type: integer
          readOnly: true
    get:
      type: object
      properties:
        domains:
          type: array
          description: Array of domains
          items:
            allOf:
              - $ref: '#/components/schemas/domain_object'
              - $ref: '#/components/schemas/unicode'
              - $ref: '#/components/schemas/type'
              - $ref: '#/components/schemas/kind'
              - $ref: '#/components/schemas/comment'
              - $ref: '#/components/schemas/groups'
              - $ref: '#/components/schemas/enabled'
              - $ref: '#/components/schemas/readonly'
    put:
      allOf:
        - $ref: '#/components/schemas/type'
        - $ref: '#/components/schemas/kind'
        - $ref: '#/components/schemas/comment'
        - $ref: '#/components/schemas/groups'
        - $ref: '#/components/schemas/enabled'
    lists_processed:
      type: object
      properties:
        processed:
          type: object
          nullable: true
          description: |
            Object containing the number of domains that were successfully
            added to the database and the number of domains that could not be
            added to the database.
          properties:
            success:
              description: |
                Array of domains that were successfully added to the database.
              type: array
              items:
                type: object
                properties:
                  item:
                    description: Domain that was added to the database
                    type: string
            errors:
              description: |
                Array of errors that occurred during processing.
              type: array
              items:
                type: object
                properties:
                  item:
                    description: Domain that could not be added to the database
                    type: string
                  error:
                    description: Error message
                    type: string
          example:
            success:
              - item: example.com
              - item: example3.com
            errors:
              - item: example2.com
                error: 'UNIQUE constraint failed: domainlist.domain'
    errors-bad_request:
      type: object
      description: Bad request
      properties:
        error:
          type: object
          properties:
            key:
              type: string
              description: Machine-readable error type
            message:
              type: string
              description: Human-readable error message
            hint:
              type: string
              description: Further details
              nullable: true
    domain_array:
      description: array of domains
      type: array
      items:
        type: string
      example:
        - testdomain.com
        - otherdomain.de
    domain_maybe_array:
      type: object
      properties:
        domain:
          oneOf:
            - $ref: '#/components/schemas/domain'
            - $ref: '#/components/schemas/domain_array'
    post:
      allOf:
        - $ref: '#/components/schemas/domain_maybe_array'
        - $ref: '#/components/schemas/comment'
        - $ref: '#/components/schemas/groups'
        - $ref: '#/components/schemas/enabled'
    name:
      description: Group name
      type: string
      example: test_group
    name_object:
      type: object
      properties:
        name:
          $ref: '#/components/schemas/name'
    schemas-comment:
      type: object
      properties:
        comment:
          description: User-provided free-text comment for this group
          type: string
          nullable: true
          default: null
          example: Some comment for this group
    schemas-enabled:
      type: object
      properties:
        enabled:
          description: Status of item
          type: boolean
          default: true
          example: true
    schemas-readonly:
      type: object
      properties:
        id:
          description: Database ID
          type: integer
          readOnly: true
          example: 1
        date_added:
          description: Unix timestamp of item addition
          type: integer
          readOnly: true
          example: 1611239095
        date_modified:
          description: Unix timestamp of last item modification
          type: integer
          readOnly: true
          example: 1611239099
    groups-get:
      type: object
      properties:
        groups:
          type: array
          items:
            allOf:
              - $ref: '#/components/schemas/name_object'
              - $ref: '#/components/schemas/schemas-comment'
              - $ref: '#/components/schemas/schemas-enabled'
              - $ref: '#/components/schemas/schemas-readonly'
    groups-put:
      allOf:
        - $ref: '#/components/schemas/name_object'
        - $ref: '#/components/schemas/schemas-comment'
        - $ref: '#/components/schemas/schemas-enabled'
    schemas-lists_processed:
      type: object
      properties:
        processed:
          type: object
          nullable: true
          description: |
            Object containing the number of groups that were successfully
            added to the database and the number of groups that could not be
            added to the database.
          properties:
            success:
              description: |
                Array of groups that were successfully added to the database.
              type: array
              items:
                type: object
                properties:
                  item:
                    description: Group that was added to the database
                    type: string
            errors:
              description: |
                Array of errors that occurred during processing.
              type: array
              items:
                type: object
                properties:
                  item:
                    description: Group that could not be added to the database
                    type: string
                  error:
                    description: Error message
                    type: string
          example:
            success:
              - item: Home-Automation
              - item: Children
            errors:
              - item: Garden
                error: 'UNIQUE constraint failed: group.name'
    name_array:
      description: array of group names
      type: array
      items:
        type: string
      example:
        - test1
        - test2
        - test3
    name_maybe_array:
      type: object
      properties:
        name:
          oneOf:
            - $ref: '#/components/schemas/name'
            - $ref: '#/components/schemas/name_array'
    groups-post:
      allOf:
        - $ref: '#/components/schemas/name_maybe_array'
        - $ref: '#/components/schemas/schemas-comment'
        - $ref: '#/components/schemas/schemas-enabled'
    client:
      description: client IP / MAC / hostname / interface
      type: string
      example: 127.0.0.1
    client_object:
      type: object
      properties:
        client:
          $ref: '#/components/schemas/client'
    components-schemas-comment:
      type: object
      properties:
        comment:
          description: User-provided free-text comment for this client
          type: string
          nullable: true
          default: null
          example: Some comment for this client
    schemas-groups:
      type: object
      properties:
        groups:
          description: Array of group IDs
          type: array
          default:
            - 0
          items:
            type: integer
    components-schemas-readonly:
      type: object
      properties:
        id:
          description: Database ID
          type: integer
          readOnly: true
          example: 1
        date_added:
          description: Unix timestamp of item addition
          type: integer
          readOnly: true
          example: 1611239095
        date_modified:
          description: Unix timestamp of last item modification
          type: integer
          readOnly: true
          example: 1611239099
        name:
          description: hostname (only if available)
          type: string
          readOnly: true
          nullable: true
          example: localhost
    clients-get:
      type: object
      properties:
        clients:
          type: array
          description: Array of clients
          items:
            allOf:
              - $ref: '#/components/schemas/client_object'
              - $ref: '#/components/schemas/components-schemas-comment'
              - $ref: '#/components/schemas/schemas-groups'
              - $ref: '#/components/schemas/components-schemas-readonly'
    clients-put:
      allOf:
        - $ref: '#/components/schemas/components-schemas-comment'
        - $ref: '#/components/schemas/schemas-groups'
    components-schemas-lists_processed:
      type: object
      properties:
        processed:
          type: object
          nullable: true
          description: |
            Object containing the number of clients that were successfully
            added to the database and the number of clients that could not be
            added to the database.
          properties:
            success:
              description: |
                Array of clients that were successfully added to the database.
              type: array
              items:
                type: object
                properties:
                  item:
                    description: Client that was added to the database
                    type: string
            errors:
              description: |
                Array of errors that occurred during processing.
              type: array
              items:
                type: object
                properties:
                  item:
                    description: Client that could not be added to the database
                    type: string
                  error:
                    description: Error message
                    type: string
          example:
            success:
              - item: 127.0.0.1
              - item: '::1'
            errors:
              - item: 192.168.2.5
                error: 'UNIQUE constraint failed: client.ip'
    client_array:
      description: array of client IPs / MACs / hostnames / interfaces
      type: array
      items:
        type: string
      example:
        - 127.0.0.1
        - 192.168.2.12
    client_maybe_array:
      type: object
      properties:
        client:
          oneOf:
            - $ref: '#/components/schemas/client'
            - $ref: '#/components/schemas/client_array'
    clients-post:
      allOf:
        - $ref: '#/components/schemas/client_maybe_array'
        - $ref: '#/components/schemas/components-schemas-comment'
        - $ref: '#/components/schemas/schemas-groups'
    schemas-suggestions:
      type: object
      properties:
        clients:
          type: array
          items:
            type: object
            properties:
              hwaddr:
                type: string
                nullable: true
                example: 12:34:56:78:9A:BC
              macVendor:
                type: string
                nullable: true
                example: Espressif Inc.
              lastQuery:
                type: integer
                example: 1683305917
              addresses:
                type: string
                nullable: true
                description: Comma-separated list of IP addresses
                example: 127.0.0.1,::1
              names:
                type: string
                nullable: true
                description: Comma-separated list of hostnames (if available)
                example: localhost,ip6-localhost
    address:
      description: Address of the list
      type: string
      example: https://hosts-file.net/ad_servers.txt
    address_object:
      type: object
      properties:
        address:
          $ref: '#/components/schemas/address'
    schemas-type:
      type: object
      properties:
        type:
          description: Type of list
          type: string
          enum:
            - allow
            - block
          example: block
    lists_components-schemas-comment:
      type: object
      properties:
        comment:
          description: User-provided free-text comment for this list
          type: string
          nullable: true
          default: null
          example: Some comment for this list
    components-schemas-enabled:
      type: object
      properties:
        enabled:
          description: Status of domain
          type: boolean
          default: true
          example: true
    lists_components-schemas-readonly:
      type: object
      properties:
        id:
          description: Database ID
          type: integer
          readOnly: true
          example: 1
        date_added:
          description: Unix timestamp of item addition
          type: integer
          readOnly: true
          example: 1611239095
        date_modified:
          description: Unix timestamp of last item modification
          type: integer
          readOnly: true
          example: 1611239099
        date_updated:
          description: Unix timestamp of last update of list content
          type: integer
          readOnly: true
          example: 1608435667
        number:
          description: Number of VALID domains on this list
          type: integer
          readOnly: true
          example: 20566
        invalid_domains:
          description: Number of INVALID domains on this list
          type: integer
          readOnly: true
          example: 0
        abp_entries:
          description: Number of ABP entries on this list
          type: integer
          readOnly: true
          example: 0
        status:
          description: List status
          type: integer
          readOnly: true
          example: 2
    lists-get:
      type: object
      properties:
        lists:
          type: array
          description: Array of lists
          items:
            allOf:
              - $ref: '#/components/schemas/address_object'
              - $ref: '#/components/schemas/schemas-type'
              - $ref: '#/components/schemas/lists_components-schemas-comment'
              - $ref: '#/components/schemas/schemas-groups'
              - $ref: '#/components/schemas/components-schemas-enabled'
              - $ref: '#/components/schemas/lists_components-schemas-readonly'
    lists-put:
      allOf:
        - $ref: '#/components/schemas/lists_components-schemas-comment'
        - $ref: '#/components/schemas/schemas-type'
        - $ref: '#/components/schemas/schemas-groups'
        - $ref: '#/components/schemas/components-schemas-enabled'
    lists_components-schemas-lists_processed:
      type: object
      properties:
        processed:
          type: object
          nullable: true
          description: |
            Object containing the number of lists that were successfully
            added to the database and the number of lists that could not be
            added to the database.
          properties:
            success:
              description: |
                Array of lists that were successfully added to the database.
              type: array
              items:
                type: object
                properties:
                  item:
                    description: List that was added to the database
                    type: string
            errors:
              description: |
                Array of errors that occurred during processing.
              type: array
              items:
                type: object
                properties:
                  item:
                    description: List that could not be added to the database
                    type: string
                  error:
                    description: Error message
                    type: string
          example:
            success:
              - item: https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
              - item: https://mirror1.malwaredomains.com/files/justdomains
            errors:
              - item: https://raw.githubusercontent.com/abc/def/master/hosts
                error: 'UNIQUE constraint failed: adlist.address'
    address_array:
      description: array of list addresses
      type: array
      items:
        type: string
      example:
        - https://hosts-file.net/ad_servers.txt
    address_maybe_array:
      type: object
      properties:
        address:
          oneOf:
            - $ref: '#/components/schemas/address'
            - $ref: '#/components/schemas/address_array'
    lists-post:
      allOf:
        - $ref: '#/components/schemas/address_maybe_array'
        - $ref: '#/components/schemas/lists_components-schemas-comment'
        - $ref: '#/components/schemas/schemas-groups'
        - $ref: '#/components/schemas/components-schemas-enabled'
    remote_addr:
      type: object
      properties:
        remote_addr:
          type: string
          description: Address of requesting client
          example: 127.0.0.1
    http_version:
      type: object
      properties:
        http_version:
          type: string
          description: HTTP version of request
          example: '1.1'
    method:
      type: object
      properties:
        method:
          type: string
          description: Request method
          example: GET
    headers:
      type: object
      properties:
        headers:
          type: array
          description: Request headers
          items:
            type: object
            properties:
              name:
                type: string
                description: Header name
              value:
                type: string
                description: Header value
          example:
            - name: Accept
              value: application/json
            - name: Connection
              value: keep-alive
            - name: Pragma
              value: no-cache
    system:
      type: object
      properties:
        system:
          type: object
          properties:
            uptime:
              type: integer
              description: How long the system has been running (seconds)
              example: 67906
            memory:
              type: object
              description: Memory info given in kilobytes
              properties:
                ram:
                  type: object
                  description: RAM
                  properties:
                    total:
                      type: integer
                      description: Total RAM
                      example: 10317877
                    free:
                      type: integer
                      description: Total free RAM
                      example: 308736
                    used:
                      type: integer
                      description: Used RAM
                      example: 8920416
                    available:
                      type: integer
                      description: Total available RAM
                      example: 972304
                    '%used':
                      type: number
                      description: Used RAM in percent
                      example: 26.854
                swap:
                  type: object
                  description: swap memory
                  properties:
                    total:
                      type: integer
                      description: Total swap
                      example: 10317877
                    used:
                      type: integer
                      description: Used swap
                      example: 8920416
                    free:
                      type: integer
                      description: Total free swap memory
                      example: 308736
                    '%used':
                      type: number
                      description: Used swap in percent
                      example: 1.67
            procs:
              type: integer
              description: Number of current processes
              example: 1452
            cpu:
              type: object
              description: CPU info
              properties:
                nprocs:
                  type: integer
                  description: Number of available processors
                  example: 8
                '%cpu':
                  type: number
                  description: Total CPU usage in percent (may be higher than 100% on multi-core systems and negative if the value cannot be computed)
                  example: 0
                load:
                  type: object
                  description: 1, 5, and 15 minute load averages
                  properties:
                    raw:
                      type: array
                      description: raw values
                      items:
                        type: number
                      example:
                        - 0.58837890625
                        - 0.64990234375
                        - 0.66748046875
                    percent:
                      type: array
                      description: raw values
                      items:
                        type: number
                      example:
                        - 4.903157711029053
                        - 5.415853023529053
                        - 5.562337398529053
            ftl:
              type: object
              description: FTL process info
              properties:
                '%mem':
                  type: number
                  description: Percentage of total RAM memory used by FTL
                  example: 0.1
                '%cpu':
                  type: number
                  description: Percentage of total CPU used by FTL
                  example: 1.2
    database:
      type: object
      properties:
        size:
          type: integer
          description: Database size in bytes
          example: 3690496
        type:
          type: string
          description: Database file type
          example: Regular file
        mode:
          type: string
          description: Database file mode
          example: rw-r--r--
        atime:
          type: integer
          description: Timestamp of last access
          example: 1611742120
        mtime:
          type: integer
          description: Timestamp of last modification
          example: 1611742120
        ctime:
          type: integer
          description: Timestamp of last status change
          example: 1611742120
        owner:
          type: object
          properties:
            user:
              type: object
              properties:
                uid:
                  type: integer
                  description: UID of database owner
                  example: 998
                name:
                  type: string
                  description: Name of database owner (user)
                  example: pihole
                info:
                  type: string
                  description: User info
                  example: ''
            group:
              type: object
              properties:
                gid:
                  type: integer
                  description: GID of database owner
                  example: 998
                name:
                  type: string
                  description: Name of database owner (group)
                  example: pihole
        queries:
          type: integer
          description: Number of queries in in-memory database
          example: 536956
        earliest_timestamp:
          type: number
          description: Unix timestamp of the earliest query in the in-memory database (Defaults to 0.0 if no queries are stored in memory)
          example: 1611742120.5
        queries_disk:
          type: integer
          description: Number of queries in on-disk database
          example: 1234567
        earliest_timestamp_disk:
          type: number
          description: Unix timestamp of the earliest query in the on-disk database (Defaults to 0.0 if no queries are stored on disk)
          example: 1608450520.3
        sqlite_version:
          type: string
          description: Version of embedded SQLite3 engine
          example: 3.34.0
    ftl:
      type: object
      properties:
        ftl:
          type: object
          properties:
            database:
              type: object
              properties:
                gravity:
                  type: integer
                  description: Number of collected exact domains on lists
                  example: 67906
                groups:
                  type: integer
                  description: Number of groups
                  example: 6
                lists:
                  type: integer
                  description: Number of lists
                  example: 1
                clients:
                  type: integer
                  description: Number of configured clients
                  example: 5
                domains:
                  type: object
                  properties:
                    allowed:
                      type: object
                      properties:
                        total:
                          type: integer
                          description: Number of allowed domains (total)
                          example: 67906
                        enabled:
                          type: integer
                          description: Number of allowed domains (enabled)
                          example: 4
                    denied:
                      type: object
                      properties:
                        total:
                          type: integer
                          description: Number of denied domains (total)
                          example: 4
                        enabled:
                          type: integer
                          description: Number of denied domains (enabled)
                          example: 2
                regex:
                  type: object
                  properties:
                    allowed:
                      type: object
                      properties:
                        total:
                          type: integer
                          description: Number of allowed regex filters (total)
                          example: 67906
                        enabled:
                          type: integer
                          description: Number of allowed regex filters (enabled)
                          example: 4
                    denied:
                      type: object
                      properties:
                        total:
                          type: integer
                          description: Number of denied regex filters (total)
                          example: 10
                        enabled:
                          type: integer
                          description: Number of denied regex filters (enabled)
                          example: 2
            privacy_level:
              type: integer
              description: Currently used privacy level
              example: 0
            query_frequency:
              type: number
              description: Average number of queries per second
              example: 1.1
            clients:
              type: object
              properties:
                total:
                  type: integer
                  description: Number of clients FTL has seen in its lfetime
                  example: 10
                active:
                  type: integer
                  description: Number of clients actively using FTL
                  example: 8
            pid:
              type: integer
              description: PID of FTL process
              example: 1234
            uptime:
              type: number
              description: Uptime of FTL in milliseconds
              example: 123456789
            '%mem':
              type: number
              description: Percentage of total RAM memory used by FTL
              example: 0.1
            '%cpu':
              type: number
              description: Percentage of total CPU used by FTL (ten seconds average)
              example: 1.2
            allow_destructive:
              type: boolean
              description: Whether or not FTL is allowed to perform destructive actions
              example: true
            dnsmasq:
              type: object
              description: Metrics from the embedded dnsmasq resolver
              properties:
                dns_cache_inserted:
                  type: integer
                  description: Number of inserted entries in DNS cache
                  example: 8
                dns_cache_live_freed:
                  type: integer
                  description: Number of freed live entries in DNS cache
                  example: 0
                dns_queries_forwarded:
                  type: integer
                  description: Number of forwarded DNS queries
                  example: 2
                dns_auth_answered:
                  type: integer
                  description: Number of DNS queries for authoritative zones
                  example: 0
                dns_local_answered:
                  type: integer
                  description: Number of DNS queries answered from local cache
                  example: 74
                dns_stale_answered:
                  type: integer
                  description: Number of DNS queries answered from local cache (stale entries)
                  example: 0
                dns_unanswered:
                  type: integer
                  description: Number of unanswered DNS queries
                  example: 0
                bootp:
                  type: integer
                  description: Number of BOOTP requests
                  example: 0
                pxe:
                  type: integer
                  description: Number of PXE requests
                  example: 0
                dhcp_ack:
                  type: integer
                  description: Number of DHCP ACK
                  example: 0
                dhcp_decline:
                  type: integer
                  description: Number of DHCP DECLINE
                  example: 0
                dhcp_discover:
                  type: integer
                  description: Number of DHCP DISCOVER
                  example: 0
                dhcp_inform:
                  type: integer
                  description: Number of DHCP INFORM
                  example: 0
                dhcp_nak:
                  type: integer
                  description: Number of DHCP NAK
                  example: 0
                dhcp_offer:
                  type: integer
                  description: Number of DHCP OFFER
                  example: 0
                dhcp_release:
                  type: integer
                  description: Number of DHCP RELEASE
                  example: 0
                dhcp_request:
                  type: integer
                  description: Number of DHCP REQUEST
                  example: 0
                noanswer:
                  type: integer
                  description: Number of DHCP requests without answer (rapid commit)
                  example: 0
                leases_allocated_4:
                  type: integer
                  description: Number of allocated IPv4 leases
                  example: 0
                leases_pruned_4:
                  type: integer
                  description: Number of pruned IPv4 leases
                  example: 0
                leases_allocated_6:
                  type: integer
                  description: Number of allocated IPv6 leases
                  example: 0
                leases_pruned_6:
                  type: integer
                  description: Number of pruned IPv6 leases
                  example: 0
                tcp_connections:
                  type: integer
                  description: Number of dedicated TCP workers
                  example: 0
                dhcp_leasequery:
                  type: integer
                  description: Number of DHCP lease queries
                  example: 0
                dhcp_lease_unassigned:
                  type: integer
                  description: Number of DHCP lease unassigned
                  example: 0
                dhcp_lease_actve:
                  type: integer
                  description: Number of DHCP lease active
                  example: 0
                dhcp_lease_unknown:
                  type: integer
                  description: Number of DHCP lease unknown
                  example: 0
                dnssec_max_crypto_use:
                  type: integer
                  description: DNSSEC per-query crypto work HWM
                  example: 0
                dnssec_max_sig_fail:
                  type: integer
                  description: DNSSEC per-RRSet signature fails HWM
                  example: 0
                dnssec_max_work:
                  type: integer
                  description: DNSSEC per-query subqueries HWM
                  example: 0
    host:
      type: object
      properties:
        host:
          type: object
          properties:
            uname:
              type: object
              properties:
                domainname:
                  type: string
                  example: (none)
                machine:
                  type: string
                  example: x86_64
                nodename:
                  type: string
                  example: raspberrypi
                release:
                  type: string
                  example: 5.15.0-52-generic
                sysname:
                  type: string
                  example: Linux
                version:
                  type: string
                  example: '#58-Ubuntu SMP Thu Oct 13 08:03:55 UTC 2022'
            model:
              type: string
              description: Device model (if available, `null` otherwise)
              example: Raspberry Pi Model 4B
              nullable: true
            dmi:
              type: object
              properties:
                bios:
                  type: object
                  properties:
                    vendor:
                      type: string
                      description: BIOS vendor (if available, `null` otherwise)
                      example: American Megatrends Inc.
                      nullable: true
                board:
                  type: object
                  properties:
                    name:
                      type: string
                      description: Board name (if available, `null` otherwise)
                      example: Raspberry Pi 4 Model B Rev 1.4
                      nullable: true
                    vendor:
                      type: string
                      description: Board vendor (if available, `null` otherwise)
                      example: Raspberry Pi Foundation
                      nullable: true
                    version:
                      type: string
                      description: Board version (if available, `null` otherwise)
                      example: '0x14'
                      nullable: true
                product:
                  type: object
                  properties:
                    name:
                      type: string
                      description: Product name (if available, `null` otherwise)
                      example: Raspberry Pi 4 Model B Rev 1.4
                      nullable: true
                    version:
                      type: string
                      description: Product version (if available, `null` otherwise)
                      example: '0x14'
                      nullable: true
                    family:
                      type: string
                      description: Product family (if available, `null` otherwise)
                      example: Raspberry Pi 4 Model B Rev 1.4
                      nullable: true
                sys:
                  type: object
                  properties:
                    vendor:
                      type: string
                      description: System vendor (if available, `null` otherwise)
                      example: Raspberry Pi Foundation
                      nullable: true
    sensors:
      type: object
      properties:
        sensors:
          type: object
          properties:
            list:
              type: array
              description: Sensor information (temperature)
              items:
                type: object
                properties:
                  name:
                    type: string
                    nullable: true
                    description: Description of temperature sensor (if available, `null` otherwise)
                  path:
                    type: string
                    description: Short path of temperature sensor
                  source:
                    type: string
                    description: Path-like device description
                  temps:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          nullable: true
                          description: Description of temperature sensor (if available, `null` otherwise)
                        value:
                          type: number
                          description: Sensor value
                        max:
                          type: number
                          nullable: true
                          description: Maximum sensor value (if available, `null` otherwise)
                        crit:
                          type: number
                          nullable: true
                          description: Critical sensor value (if available, `null` otherwise)
                        sensor:
                          type: string
                          description: Short path of temperature sensor
              example:
                - name: amdgpu
                  path: hwmon1
                  source: devices/pci0000:00/0000:00:08.1/0000:05:00.0
                  temps:
                    - name: edge
                      value: 40
                      max: null
                      crit: null
                      sensor: temp1
                - name: nct6793
                  path: hwmon2
                  source: devices/platform/nct6775.656
                  temps:
                    - name: SMBUSMASTER 0
                      value: 59.5
                      max: null
                      crit: null
                      sensor: temp1
                    - name: CPUTIN
                      value: 40
                      max: null
                      crit: null
                      sensor: temp2
                - name: k10temp
                  path: hwmon3
                  source: devices/pci0000:00/0000:00:18.3
                  temps:
                    - name: Tdie
                      value: 58.875
                      max: 70
                      crit: null
                      sensor: temp1
                    - name: Tctl
                      value: 58.875
                      max: null
                      crit: null
                      sensor: temp2
                - name: coretemp
                  path: hwmon4
                  source: devices/platform/coretemp.0
                  temps:
                    - name: Package id 0
                      value: 48
                      max: 100
                      crit: 100
                      sensor: temp1
                    - name: Core 0
                      value: 48
                      max: 100
                      crit: 100
                      sensor: temp2
                    - name: Core 1
                      value: 47
                      max: 100
                      crit: 100
                      sensor: temp3
            cpu_temp:
              type: number
              description: CPU temperature (best guess, may be *null* if no sensor can be reliably identified, please report if you encounter this)
              nullable: true
              example: 48
            hot_limit:
              type: number
              description: Limit defined in FTL's config beyond which the CPU should be considered hot
              example: 60
            unit:
              type: string
              description: Sensor value unit
              example: C
    version:
      type: object
      properties:
        version:
          type: object
          properties:
            core:
              type: object
              properties:
                local:
                  type: object
                  properties:
                    branch:
                      type: string
                      nullable: true
                      description: Local Pi-hole Core branch
                      example: development
                    version:
                      type: string
                      nullable: true
                      description: Local Pi-hole Core version
                      example: v6.1
                    hash:
                      type: string
                      nullable: true
                      description: Local Pi-hole Core hash
                      example: 955e36a9
                remote:
                  type: object
                  properties:
                    version:
                      type: string
                      nullable: true
                      description: Remote (Github) Pi-hole Core version (null if on custom branch)
                      example: v6.1
                    hash:
                      type: string
                      nullable: true
                      description: Remote (Github) Pi-hole Core hash
                      example: 955e36a9
            web:
              type: object
              properties:
                local:
                  type: object
                  properties:
                    branch:
                      type: string
                      nullable: true
                      description: Local Pi-hole Web branch
                      example: devel
                    version:
                      type: string
                      nullable: true
                      description: Local Pi-hole Web version
                      example: v6.1
                    hash:
                      type: string
                      nullable: true
                      description: Local Pi-hole Web hash
                      example: f69f7e88
                remote:
                  type: object
                  properties:
                    version:
                      type: string
                      nullable: true
                      description: Remote (Github) Pi-hole Web version (null if on custom branch)
                      example: v6.1
                    hash:
                      type: string
                      nullable: true
                      description: Remote (Github) Pi-hole Web hash
                      example: f69f7e88
            ftl:
              type: object
              properties:
                local:
                  type: object
                  properties:
                    branch:
                      type: string
                      nullable: true
                      description: Local Pi-hole FTL branch
                      example: development
                    version:
                      type: string
                      nullable: true
                      description: Local Pi-hole FTL version
                      example: v6.1
                    hash:
                      type: string
                      nullable: true
                      description: Local Pi-hole FTL hash
                      example: 64441ed6-dirty
                    date:
                      type: string
                      nullable: true
                      description: Build time of your local Pi-hole FTL
                      example: 2023-01-09 20:25:24 +0100
                remote:
                  type: object
                  properties:
                    version:
                      type: string
                      nullable: true
                      description: Remote (Github) Pi-hole FTL version (null if on custom branch)
                      example: v6.1
                    hash:
                      type: string
                      nullable: true
                      description: Remote (Github) Pi-hole FTL hash
                      example: 64441ed6
            docker:
              type: object
              properties:
                local:
                  type: string
                  nullable: true
                  description: Local Pi-hole Docker image version (`null` if not running in Docker)
                  example: v6.1
                remote:
                  type: string
                  nullable: true
                  description: Remote (Docker Hub) Pi-hole Docker image version (`null` if not running in Docker)
                  example: v6.1
    messages:
      type: object
      properties:
        messages:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                description: ID of message
                example: 3
              timestamp:
                type: number
                description: Unix timestamp of message
                example: 123456789.123
              type:
                type: string
                description: Message type
                example: SUBNET
              plain:
                type: string
                description: Plain message
                example: Rate-limiting 192.168.2.42 for at least 5 seconds
              html:
                type: string
                description: HTML-formatted message
                example: 'Client <code>192.168.2.42</code> has been rate-limited for at least 5 seconds (current limit: 1000 queries per 60 seconds)'
    count:
      type: object
      properties:
        count:
          type: integer
          description: Number of items
          example: 42
    metrics:
      type: object
      properties:
        metrics:
          type: object
          properties:
            dns:
              type: object
              description: DNS metrics
              properties:
                cache:
                  type: object
                  description: Cache information
                  properties:
                    size:
                      type: integer
                      description: Cache size
                    inserted:
                      type: integer
                      description: Number of inserted entries
                    evicted:
                      type: integer
                      description: Number of evicted entries
                    expired:
                      type: integer
                      description: Number of expired entries
                    immortal:
                      type: integer
                      description: Number of immortal entries
                    content:
                      type: array
                      description: Array of valid DNS cache entries
                      items:
                        type: object
                        properties:
                          type:
                            type: integer
                            description: RR type of cache entry
                          name:
                            type: string
                            description: RR name of cache entry
                          count:
                            type: object
                            description: Number of cache entries for this RR type
                            properties:
                              valid:
                                type: integer
                                description: Number of valid cache entries
                              stale:
                                type: integer
                                description: Number of stale cache entries
                replies:
                  type: object
                  properties:
                    forwarded:
                      type: integer
                      description: Number of forwarded queries
                    unanswered:
                      type: integer
                      description: Number of unanswered queries
                    local:
                      type: integer
                      description: Number of queries answered from local cache
                    optimized:
                      type: integer
                      description: Number of queries answered from local cache (stale entries)
                    auth:
                      type: integer
                      description: Number of queries for authoritative zones
                    sum:
                      type: integer
                      description: Total number of queries
            dhcp:
              type: object
              description: DHCP metrics
              properties:
                ack:
                  type: integer
                  description: Number of DHCP ACKs
                nak:
                  type: integer
                  description: Number of DHCP NAKs
                decline:
                  type: integer
                  description: Number of DHCP declines
                offer:
                  type: integer
                  description: Number of DHCP offers
                discover:
                  type: integer
                  description: Number of DHCP discovers
                inform:
                  type: integer
                  description: Number of DHCP informs
                request:
                  type: integer
                  description: Number of DHCP requests
                release:
                  type: integer
                  description: Number of DHCP releases
                noanswer:
                  type: integer
                  description: Number of DHCP requests without answer
                bootp:
                  type: integer
                  description: Number of BOOTP requests
                pxe:
                  type: integer
                  description: Number of PXE requests
                leases:
                  type: object
                  description: DHCP leases
                  properties:
                    allocated_4:
                      type: integer
                      description: Number of allocated IPv4 leases
                    pruned_4:
                      type: integer
                      description: Number of pruned IPv4 leases
                    allocated_6:
                      type: integer
                      description: Number of allocated IPv6 leases
                    pruned_6:
                      type: integer
                      description: Number of pruned IPv6 leases
    login:
      type: object
      properties:
        https_port:
          type: integer
          description: HTTPS port of the Pi-hole webserver (0 if disabled)
        dns:
          type: boolean
          description: Whether the DNS server is up and running. False only in failed state
    log:
      type: object
      properties:
        log:
          type: array
          description: Request headers
          items:
            type: object
            properties:
              timestamp:
                type: number
                description: Unix timestamp of log line creation (server time)
              message:
                type: string
                description: Log line content
              prio:
                type: string
                nullable: true
                description: Log line priority (if available)
          example:
            - timestamp: 1611729969
              message: started, version pi-hole-2.84 cachesize 10000
            - timestamp: 1611729969
              message: reading /etc/resolv.conf
            - timestamp: 1611729969
              message: read /etc/hosts - 7 addresses
            - timestamp: 1611729969
              message: query[A] connectivity-check.ubuntu.com from 127.0.0.1
        nextID:
          type: integer
          description: Next ID to query if checking for new log lines
          example: 229
        pid:
          type: integer
          description: Process ID of FTL. When this changes, FTL was restarted and nextID should be reset to 0.
          example: 2258
        file:
          type: string
          description: Path to respective log file on disk
          example: /var/log/pihole/pihole.log
    endpoints:
      type: object
      properties:
        endpoints:
          type: object
          description: Endpoints
          properties:
            get:
              type: array
              items:
                type: object
                properties:
                  uri:
                    type: string
                    description: URI
                  parameters:
                    type: string
                    description: Parameters
              example:
                - uri: /api/dns/blocking
                  parameters: ''
                - uri: /api/dns/cache
                  parameters: ''
                - uri: /api/dns/port
                  parameters: ''
                - uri: /api/domains
                  parameters: ''
                - uri: /api/groups
                  parameters: ''
                - uri: /api/lists
                  parameters: ''
            post:
              type: array
              items:
                type: object
                properties:
                  uri:
                    type: string
                    description: URI
                  parameters:
                    type: string
                    description: Parameters
              example:
                - uri: /api/dns/blocking
                  parameters: ''
                - uri: /api/dns/cache
                  parameters: ''
                - uri: /api/dns/port
                  parameters: ''
                - uri: /api/domains
                  parameters: ''
                - uri: /api/groups
                  parameters: ''
                - uri: /api/lists
                  parameters: ''
            put:
              type: array
              items:
                type: object
                properties:
                  uri:
                    type: string
                    description: URI
                  parameters:
                    type: string
                    description: Parameters
              example:
                - uri: /api/dns/blocking
                  parameters: ''
                - uri: /api/dns/cache
                  parameters: ''
                - uri: /api/dns/port
                  parameters: ''
                - uri: /api/domains
                  parameters: ''
                - uri: /api/groups
                  parameters: ''
                - uri: /api/lists
                  parameters: ''
            patch:
              type: array
              items:
                properties:
                  uri:
                    type: string
                    description: URI
                  parameters:
                    type: string
                    description: Parameters
              example:
                - uri: /api/dns/blocking
                  parameters: ''
                - uri: /api/dns/cache
                  parameters: ''
                - uri: /api/dns/port
                  parameters: ''
                - uri: /api/domains
                  parameters: ''
                - uri: /api/groups
                  parameters: ''
                - uri: /api/lists
                  parameters: ''
            delete:
              type: array
              items:
                properties:
                  uri:
                    type: string
                    description: URI
                  parameters:
                    type: string
                    description: Parameters
              example:
                - uri: /api/dns/blocking
                  parameters: ''
                - uri: /api/dns/cache
                  parameters: ''
                - uri: /api/dns/port
                  parameters: ''
                - uri: /api/domains
                  parameters: ''
                - uri: /api/groups
                  parameters: ''
                - uri: /api/lists
                  parameters: ''
    config:
      type: object
      properties:
        config:
          type: object
          properties:
            dns:
              type: object
              properties:
                upstreams:
                  type: array
                  items:
                    type: string
                CNAMEdeepInspect:
                  type: boolean
                blockESNI:
                  type: boolean
                EDNS0ECS:
                  type: boolean
                ignoreLocalhost:
                  type: boolean
                showDNSSEC:
                  type: boolean
                analyzeOnlyAandAAAA:
                  type: boolean
                piholePTR:
                  type: string
                replyWhenBusy:
                  type: string
                blockTTL:
                  type: integer
                hosts:
                  type: array
                  items:
                    type: string
                domainNeeded:
                  type: boolean
                expandHosts:
                  type: boolean
                domain:
                  type: object
                  properties:
                    name:
                      type: string
                    local:
                      type: boolean
                bogusPriv:
                  type: boolean
                dnssec:
                  type: boolean
                interface:
                  type: string
                hostRecord:
                  type: string
                listeningMode:
                  type: string
                queryLogging:
                  type: boolean
                cnameRecords:
                  type: array
                  items:
                    type: string
                port:
                  type: integer
                localise:
                  type: boolean
                cache:
                  type: object
                  properties:
                    size:
                      type: integer
                    optimizer:
                      type: integer
                    upstreamBlockedTTL:
                      type: integer
                revServers:
                  type: array
                  items:
                    type: string
                blocking:
                  type: object
                  properties:
                    active:
                      type: boolean
                    mode:
                      type: string
                    edns:
                      type: string
                specialDomains:
                  type: object
                  properties:
                    mozillaCanary:
                      type: boolean
                    iCloudPrivateRelay:
                      type: boolean
                    designatedResolver:
                      type: boolean
                reply:
                  type: object
                  properties:
                    host:
                      type: object
                      properties:
                        force4:
                          type: boolean
                        force6:
                          type: boolean
                        IPv4:
                          type: string
                          x-format: ipv4
                        IPv6:
                          type: string
                          x-format: ipv6
                    blocking:
                      type: object
                      properties:
                        force4:
                          type: boolean
                        force6:
                          type: boolean
                        IPv4:
                          type: string
                          x-format: ipv4
                        IPv6:
                          type: string
                          x-format: ipv6
                rateLimit:
                  type: object
                  properties:
                    count:
                      type: integer
                    interval:
                      type: integer
            dhcp:
              type: object
              properties:
                active:
                  type: boolean
                start:
                  type: string
                  x-format: ipv4
                end:
                  type: string
                  x-format: ipv4
                router:
                  type: string
                  x-format: ipv4
                netmask:
                  type: string
                  x-format: ipv4
                leaseTime:
                  type: string
                ipv6:
                  type: boolean
                rapidCommit:
                  type: boolean
                multiDNS:
                  type: boolean
                logging:
                  type: boolean
                ignoreUnknownClients:
                  type: boolean
                hosts:
                  type: array
                  items:
                    type: string
            ntp:
              type: object
              properties:
                ipv4:
                  type: object
                  properties:
                    active:
                      type: boolean
                    address:
                      type: string
                      x-format: ipv4
                ipv6:
                  type: object
                  properties:
                    active:
                      type: boolean
                    address:
                      type: string
                      x-format: ipv6
                sync:
                  type: object
                  properties:
                    active:
                      type: boolean
                    server:
                      type: string
                    interval:
                      type: integer
                    count:
                      type: integer
                    rtc:
                      type: object
                      properties:
                        set:
                          type: boolean
                        device:
                          type: string
                        utc:
                          type: boolean
            resolver:
              type: object
              properties:
                resolveIPv4:
                  type: boolean
                resolveIPv6:
                  type: boolean
                networkNames:
                  type: boolean
                refreshNames:
                  type: string
            database:
              type: object
              properties:
                DBimport:
                  type: boolean
                maxDBdays:
                  type: integer
                DBinterval:
                  type: integer
                useWAL:
                  type: boolean
                network:
                  type: object
                  properties:
                    parseARPcache:
                      type: boolean
                    expire:
                      type: integer
            webserver:
              type: object
              properties:
                domain:
                  type: string
                acl:
                  type: string
                port:
                  type: string
                threads:
                  type: integer
                headers:
                  type: array
                  items:
                    type: string
                serve_all:
                  type: boolean
                advancedOpts:
                  type: array
                  items:
                    type: string
                session:
                  type: object
                  properties:
                    timeout:
                      type: integer
                    restore:
                      type: boolean
                tls:
                  type: object
                  properties:
                    cert:
                      type: string
                    validity:
                      type: integer
                paths:
                  type: object
                  properties:
                    webroot:
                      type: string
                    webhome:
                      type: string
                    prefix:
                      type: string
                interface:
                  type: object
                  properties:
                    boxed:
                      type: boolean
                    theme:
                      type: string
                api:
                  type: object
                  properties:
                    max_sessions:
                      type: integer
                    prettyJSON:
                      type: boolean
                    password:
                      description: |
                        *Note:* Special write-only property used to change the password via the API.
                      type: string
                    pwhash:
                      type: string
                    totp_secret:
                      type: string
                    app_pwhash:
                      type: string
                    app_sudo:
                      type: boolean
                    cli_pw:
                      type: boolean
                    excludeClients:
                      type: array
                      items:
                        type: string
                    excludeDomains:
                      type: array
                      items:
                        type: string
                    maxHistory:
                      type: integer
                    maxClients:
                      type: integer
                    client_history_global_max:
                      type: boolean
                    allow_destructive:
                      type: boolean
                    temp:
                      type: object
                      properties:
                        limit:
                          type: number
                        unit:
                          type: string
            files:
              type: object
              properties:
                pid:
                  type: string
                database:
                  type: string
                gravity:
                  type: string
                gravity_tmp:
                  type: string
                macvendor:
                  type: string
                pcap:
                  type: string
                log:
                  type: object
                  properties:
                    ftl:
                      type: string
                    dnsmasq:
                      type: string
                    webserver:
                      type: string
            misc:
              type: object
              properties:
                nice:
                  type: integer
                delay_startup:
                  type: integer
                addr2line:
                  type: boolean
                etc_dnsmasq_d:
                  type: boolean
                privacylevel:
                  type: integer
                dnsmasq_lines:
                  type: array
                  items:
                    type: string
                extraLogging:
                  type: boolean
                readOnly:
                  type: boolean
                normalizeCPU:
                  type: boolean
                hide_dnsmasq_warn:
                  type: boolean
                check:
                  type: object
                  properties:
                    load:
                      type: boolean
                    shmem:
                      type: integer
                    disk:
                      type: integer
            debug:
              type: object
              properties:
                database:
                  type: boolean
                networking:
                  type: boolean
                locks:
                  type: boolean
                queries:
                  type: boolean
                flags:
                  type: boolean
                shmem:
                  type: boolean
                gc:
                  type: boolean
                arp:
                  type: boolean
                regex:
                  type: boolean
                api:
                  type: boolean
                tls:
                  type: boolean
                overtime:
                  type: boolean
                status:
                  type: boolean
                caps:
                  type: boolean
                dnssec:
                  type: boolean
                vectors:
                  type: boolean
                resolver:
                  type: boolean
                edns0:
                  type: boolean
                clients:
                  type: boolean
                aliasclients:
                  type: boolean
                events:
                  type: boolean
                helper:
                  type: boolean
                config:
                  type: boolean
                inotify:
                  type: boolean
                webserver:
                  type: boolean
                extra:
                  type: boolean
                reserved:
                  type: boolean
                ntp:
                  type: boolean
                netlink:
                  type: boolean
                timing:
                  type: boolean
                all:
                  type: boolean
    devices:
      type: object
      properties:
        devices:
          type: array
          description: Array of devices
          items:
            type: object
            properties:
              id:
                type: integer
                description: Device network table ID
                example: 1
              hwaddr:
                type: string
                description: MAC address of this device
                example: '00:11:22:33:44:55'
              interface:
                type: string
                description: Interface this device is connected to
                example: enp2s0
              firstSeen:
                type: integer
                description: Unix timestamp when this device was first seen by your Pi-hole
                example: 1664623620
              lastQuery:
                type: integer
                description: Unix timestamp when your Pi-hole received the last query from this device
                example: 1664688620
              numQueries:
                type: integer
                description: Total number of queries your Pi-hole has received from this device
                example: 585462
              macVendor:
                type: string
                nullable: true
                description: Vendor name associated with the device's MAC address (if available)
                example: Digital Data Communications Asia Co.,Ltd
              ips:
                type: array
                items:
                  type: object
                  properties:
                    ip:
                      type: string
                      description: Associated IP address (can be IPv4 or IPv6)
                      example: 192.168.1.51
                    name:
                      type: string
                      description: Associated hostname (can be null)
                      nullable: true
                      example: ubuntu-server
                    lastSeen:
                      type: integer
                      description: Unix timestamp when your Pi-hole has seen this address the last time
                      example: 1664688620
                    nameUpdated:
                      type: integer
                      description: Unix timestamp when device updated its hostname the last time
                      example: 1664688620
    gateway:
      type: object
      properties:
        gateway:
          type: array
          items:
            type: object
            properties:
              family:
                type: string
                description: Address family
              interface:
                type: string
                description: Interface name
              address:
                type: string
                description: Gateway address
              local:
                type: array
                description: Local interface addresses
                items:
                  type: string
          example:
            - family: inet
              interface: eth0
              address: 192.168.0.1
              local:
                - 192.168.0.22
            - family: inet6
              interface: eth0
              address: fe80::3587:2fff:f11a:1
              local:
                - fe80::3587:2fff:f11a:4321
    routes:
      type: object
      properties:
        routes:
          type: array
          description: Array of routes
          items:
            type: object
            properties:
              gateway:
                type: string
                description: Gateway address
              family:
                type: string
                enum:
                  - inet
                  - inet6
                  - link
                  - mpls
                  - bridge
                  - '???'
                description: Address family
              table:
                type: integer
                description: Routing table ID (0 = unspecified, 253 = default, 254 = local, 255 = local, other = user-defined)
              protocol:
                type: string
                description: Routing protocol
              scope:
                type: string
                description: Routing scope
              type:
                type: string
                description: Routing type
              flags:
                type: array
                description: Array of route flags
                items:
                  type: string
              oif:
                type: string
                description: Outgoing interface
              iif:
                type: string
                description: Incoming interface
              dst:
                type: string
                description: Destination address (or "default" for the default route)
              src:
                type: string
                description: Source address
              prefsrc:
                type: string
                description: Preferred source address
              priority:
                type: integer
                description: Route priority
              pref:
                type: integer
                description: Route preference
          example:
            - family: inet
              table: 254
              protocol: static
              scope: universe
              type: unicast
              flags: []
              gateway: 192.168.0.1
              oif: eth0
            - family: inet
              table: 254
              protocol: boot
              scope: link
              type: unicast
              flags: []
              dst: 10.1.0.0
              oif: wg0
            - family: inet
              table: 255
              protocol: kernel
              scope: host
              type: local
              flags: []
              dst: 127.0.0.1
              prefsrc: 127.0.0.1
              oif: lo
            - family: inet6
              table: 255
              protocol: kernel
              scope: universe
              type: local
              flags: []
              dst: '::1'
              priority: 0
              oif: eth0
            - family: inet6
              table: 254
              protocol: static
              scope: universe
              type: unicast
              flags: []
              gateway: fe80::3587:2fff:f11a:4321
              oif: eth0
            - family: inet6
              table: 255
              protocol: kernel
              scope: universe
              type: multicast
              flags: []
              dst: 'fd00:4711::'
              priority: 5
              oif: wg0
    interfaces:
      type: object
      properties:
        interfaces:
          type: array
          description: Interface information
          items:
            type: object
            properties:
              name:
                type: string
                description: Interface name
              speed:
                type: integer
                nullable: true
                description: Speed of the interface in Mbit/s (`null` if not applicable)
              carrier:
                type: boolean
                description: Whether the interface is connected
              type:
                type: string
                description: Type of the interface
              flags:
                type: array
                description: Array of address flags
                items:
                  type: string
              state:
                type: string
                description: State of the interface
              proto_down:
                type: boolean
                description: Whether the interface is administratively down
              address:
                type: string
                description: Interface hardware address
              broadcast:
                type: string
                description: Interface broadcast address
              perm_address:
                type: string
                description: Interface permanent hardware address
              stats:
                type: object
                properties:
                  rx_bytes:
                    type: object
                    description: Interface received bytes
                    properties:
                      value:
                        type: number
                        description: Number of received bytes
                      unit:
                        type: string
                        description: Unit of the received bytes
                  tx_bytes:
                    type: object
                    description: Interface transmitted bytes
                    properties:
                      value:
                        type: number
                        description: Number of transmitted bytes
                      unit:
                        type: string
                        description: Unit of the transmitted bytes
              addresses:
                type: array
                nullable: true
                description: Array of associated IPv addresses
                items:
                  type: object
                  properties:
                    address:
                      type: string
                      description: Interface address
                    address_type:
                      type: string
                      description: Type of the interface address
                    broadcast:
                      type: string
                      description: Interface broadcast address
                    broadcast_type:
                      type: string
                      description: Type of the broadcast address
                    local:
                      type: string
                      description: Local address
                    local_type:
                      type: string
                      description: Type of the local address
                    label:
                      type: string
                      description: Interface label
                    family:
                      type: string
                      enum:
                        - inet
                        - inet6
                        - link
                        - mpls
                        - bridge
                        - '???'
                      description: Address family
                    flags:
                      type: array
                      description: Array of address flags
                      items:
                        type: string
                    prefixlen:
                      type: integer
                      description: Prefix length of the interface address
                    scope:
                      type: string
                      description: Address scope
                    prefered:
                      type: integer
                      description: Preferred lifetime of the address (`4294967295` = forever)
                    valid:
                      type: integer
                      description: Valid lifetime of the address (`4294967295` = forever)
                    cstamp:
                      type: number
                      description: Creation timestamp of the address
                    tstamp:
                      type: number
                      description: Updated timestamp of the address
          example:
            - name: lo
              speed: null
              type: loopback
              flags:
                - up
                - loopback
                - running
                - lower_up
              state: unknown
              carrier: true
              address: '00:00:00:00:00:00'
              broadcast: '00:00:00:00:00:00'
              stats:
                rx_bytes:
                  value: 81.6571641
                  unit: MB
                tx_bytes:
                  value: 648.818
                  unit: MB
              addresses:
                - address: 127.0.0.1
                  address_type: loopback
                  local: 127.0.0.1
                  local_type: loopback
                  family: inet
                  scope: host
                  flags:
                    - permanent
                  prefixlen: 8
                  label: lo
                  prefered: 4294967295
                  valid: 4294967295
                  cstamp: 1720989931
                  tstamp: 1720989931
                - address: '::1'
                  address_type: loopback
                  local: '::1'
                  local_type: loopback
                  family: inet6
                  scope: host
                  flags:
                    - permanent
                  prefixlen: 128
                  label: lo
                  prefered: 4294967295
                  valid: 4294967295
                  cstamp: 1720989931.1
                  tstamp: 1720989931.1
            - name: eth0
              speed: 1000
              type: ether
              flags:
                - up
                - broadcast
                - running
                - multicast
                - lower_up
              state: up
              carrier: true
              address: '00:11:22:33:44:55'
              broadcast: ff:ff:ff:ff:ff:ff
              perm_address: '00:11:22:33:44:55'
              stats:
                rx_bytes:
                  value: 15.5585
                  unit: GB
                tx_bytes:
                  value: 1.55858
                  unit: GB
              addresses:
                - address: 192.168.0.123
                  address_type: private
                  local: 192.168.0.123
                  local_type: private
                  family: inet
                  scope: universe
                  flags:
                    - permanent
                  prefixlen: 24
                  label: eth0
                  prefered: 4294967295
                  valid: 4294967295
                  cstamp: 1720989931.1
                  tstamp: 1720989931.1
                - address: 2001:db8::1234:5678:9abc:def0
                  address_type: global (GUA)
                  family: inet6
                  scope: universe
                  flags: []
                  prefixlen: 64
                  label: eth0
                  prefered: 3461
                  valid: 7061
                  cstamp: 2789057.25
                  tstamp: 2789057.25
                - address: fd29:db8::1234:5678:9abc:def0
                  address_type: site-local (ULA)
                  family: inet6
                  scope: universe
                  flags: []
                  prefixlen: 64
                  label: eth0
                  prefered: 3461
                  valid: 7061
                  cstamp: 1720989931.1
                  tstamp: 1720989931.1
                - address: fe80::1234:5678:9abc:def0
                  address_type: link-local (LL)
                  family: inet6
                  scope: link
                  flags:
                    - permanent
                  prefixlen: 64
                  label: eth0
                  prefered: 4294967295
                  valid: 4294967295
                  cstamp: 1720989931.1
                  tstamp: 1720989931.1
            - name: wg0
              speed: null
              type: none
              flags:
                - up
                - pointopoint
                - running
                - noarp
                - lower_up
              state: unknown
              carrier: true
              stats:
                rx_bytes:
                  value: 458.44598
                  unit: MB
                tx_bytes:
                  value: 5.5895
                  unit: MB
              addresses:
                - address: 10.1.0.1
                  address_type: private
                  local: 10.1.0.1
                  local_type: private
                  family: inet
                  scope: universe
                  flags:
                    - permanent
                  prefixlen: 24
                  label: wg0
                  prefered: 4294967295
                  valid: 4294967295
                  cstamp: 1720989931.1
                  tstamp: 1720989931.1
                - address: fd00:4711::1
                  address_type: site-local (ULA)
                  family: inet6
                  scope: global
                  flags:
                    - permanent
                  prefixlen: 64
                  label: wg0
                  prefered: 4294967295
                  valid: 4294967295
                  cstamp: 1720989931.1
                  tstamp: 1720989931.1
    teleporter-post:
      type: object
      properties:
        processed:
          type: array
          items:
            type: string
    invalid_zip:
      type: object
      description: Invalid ZIP archive uploaded
      properties:
        error:
          type: object
          properties:
            key:
              type: string
              description: Machine-readable error type
              example: invalid_zip
            message:
              type: string
              description: Human-readable error message
              example: Invalid ZIP file uploaded
            hint:
              type: string
              nullable: true
              description: No additional data available
              example: null
    success:
      type: object
      properties:
        status:
          type: string
          description: Key indicating the status of the request
          example: success
    forbidden:
      description: |
        The request was valid, but the server is refusing the action.
      type: object
      properties:
        error:
          type: object
          properties:
            key:
              type: string
              description: Machine-readable error type
              example: forbidden
            message:
              type: string
              description: Human-readable error message
              example: <Action name> is not allowed
            hint:
              type: string
              nullable: true
              description: No additional data available
              example: Check setting webserver.api.allow_destructive
    leases:
      type: object
      properties:
        leases:
          type: array
          description: DHCP leases
          items:
            type: object
            properties:
              expires:
                type: integer
                description: Expiration time (0 = infinite lease, never expires)
                example: 1675671991
              name:
                type: string
                description: Hostname
                example: raspberrypi
              hwaddr:
                type: string
                description: Hardware (MAC) address
                example: '00:00:00:00:00:00'
              ip:
                type: string
                description: IP address
                example: 192.168.2.111
              clientid:
                type: string
                description: Client ID
                example: '00:00:00:00:00:00'
    search:
      type: object
      properties:
        search:
          type: object
          properties:
            domains:
              type: array
              items:
                type: object
                properties:
                  domain:
                    type: string
                    example: blockeddomain.com
                  comment:
                    type: string
                    description: Optional comment
                    nullable: true
                    example: I needed to block this because of XYZ
                  enabled:
                    type: boolean
                    description: Whether this entry is enabled
                    example: true
                  type:
                    description: String specifying domain type
                    type: string
                    enum:
                      - allow
                      - deny
                    example: allow
                  kind:
                    description: String specifying domain kind
                    type: string
                    enum:
                      - exact
                      - regex
                    example: exact
                  id:
                    type: integer
                    description: Database ID
                    example: 7
                  date_added:
                    type: integer
                    description: Unix timestamp of addition
                    example: 1664624500
                  date_modified:
                    type: integer
                    description: Unix timestamp of last modification
                    example: 1664624500
                  groups:
                    type: array
                    description: Array of IDs corresponding to associated groups
                    items:
                      type: integer
                    example:
                      - 0
                      - 1
                      - 2
            gravity:
              type: array
              items:
                type: object
                properties:
                  domain:
                    type: string
                    example: doubleclick.net
                  address:
                    type: string
                    description: Address of the list this domain was found on
                    example: https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
                  comment:
                    type: string
                    description: Optional comment of the list
                    nullable: true
                    example: I needed to block this because of XYZ
                  enabled:
                    type: boolean
                    description: Whether this list is enabled
                    example: true
                  id:
                    type: integer
                    description: Database ID of the associated list
                    example: 0
                  type:
                    type: string
                    description: String specifying list type
                    enum:
                      - allow
                      - block
                  date_added:
                    type: integer
                    description: Unix timestamp of list addition
                    example: 1664624500
                  date_modified:
                    type: integer
                    description: Unix timestamp of last list modification
                    example: 1664624500
                  date_updated:
                    type: integer
                    description: Unix timestamp of last local update of this list
                    example: 1664624500
                  number:
                    type: integer
                    description: Number of entries in the list
                    example: 7
                  invalid_domains:
                    type: integer
                    description: Number of invalid domains in the list
                    example: 0
                  abp_entries:
                    type: integer
                    description: Number of ABP entries in the list
                    example: 0
                  status:
                    type: integer
                    description: Status of the list
                    example: 1
                  groups:
                    type: array
                    description: Array of IDs corresponding to associated groups
                    items:
                      type: integer
                    example:
                      - 0
                      - 1
                      - 2
            parameters:
              type: object
              properties:
                partial:
                  type: boolean
                  description: Whether partial matching was requested. Note that partial matching may not find complex regex entries.
                  example: false
                'N':
                  type: integer
                  description: Maximum number of results to be returned (per type)
                  example: 20
                domain:
                  type: string
                  description: (Part of) domain to be searched for
                  example: doubleclick.net
                debug:
                  type: boolean
                  description: Whether debug information was requested
                  example: false
            results:
              type: object
              properties:
                domains:
                  type: object
                  properties:
                    exact:
                      type: integer
                      description: Number of exactly matching domains
                      example: 1
                    regex:
                      type: integer
                      description: Number of regex matching domains
                      example: 2
                gravity:
                  type: object
                  properties:
                    allow:
                      type: integer
                      description: Number of allow matches (antigravity)
                      example: 0
                    block:
                      type: integer
                      description: Number of block matches (gravity)
                      example: 1
                total:
                  type: integer
                  description: Total number of matches
                  example: 4
    padd:
      type: object
      properties:
        recent_blocked:
          type: string
          description: Most recent blocked domain
          nullable: true
          example: bad.example.com
        top_domain:
          type: string
          description: Most requested domain
          nullable: true
          example: good.example.com
        top_blocked:
          type: string
          description: Most blocked domain
          nullable: true
          example: bad.example.com
        top_client:
          type: string
          description: Most active client
          nullable: true
          example: localhost
        active_clients:
          type: integer
          description: Number of active clients
          example: 22
        gravity_size:
          type: integer
          description: Gravity list size
          example: 225382
        blocking:
          type: string
          description: Blocking status
          example: enabled
        queries:
          type: object
          properties:
            total:
              type: integer
              description: Total number of queries within the last 24 hours
              example: 92258
            blocked:
              type: integer
              description: Number of blocked queries
              example: 4784
            percent_blocked:
              type: number
              description: Percentage of blocked queries
              example: 5.18
        cache:
          type: object
          properties:
            size:
              type: integer
              description: Total cache size
              example: 10000
            inserted:
              type: integer
              description: Number of inserted cache entries
              example: 233
            evicted:
              type: integer
              description: Number of evicted cache entries
              example: 0
        iface:
          type: object
          description: Default interfaces
          properties:
            v4:
              type: object
              description: IPv4 interface
              properties:
                addr:
                  type: string
                  description: Primary address
                  nullable: true
                  example: 192.168.2.11
                rx_bytes:
                  type: object
                  description: Received bytes
                  properties:
                    value:
                      type: number
                      example: 76.46
                    unit:
                      type: string
                      example: G
                tx_bytes:
                  type: object
                  description: Transmitted bytes
                  properties:
                    value:
                      type: number
                      example: 68.58
                    unit:
                      type: string
                      example: G
                num_addrs:
                  type: integer
                  description: Number of addresses on the interface
                  example: 1
                name:
                  type: string
                  description: Interface name
                  example: eth0
                gw_addr:
                  type: string
                  description: Gateway address
                  nullable: true
                  example: 192.168.2.1
            v6:
              type: object
              description: IPv6 interface
              properties:
                addr:
                  type: string
                  description: Primary address
                  nullable: true
                  example: fe80::b0e4:1b1e:7b7d:5855
                num_addrs:
                  type: integer
                  description: Number of addresses on the interface
                  example: 3
                name:
                  type: string
                  description: Interface name
                  example: eth0
                gw_addr:
                  type: string
                  description: Gateway address
                  nullable: true
                  example: fe80::b0e4:1b1e:7b7d:1b1e
        node_name:
          type: string
          description: Pi-hole host's name
          example: pihole
        host_model:
          type: string
          description: Host model
          example: Raspberry Pi 3 Model B Plus Rev 1.3
          nullable: true
        config:
          type: object
          description: Pi-hole configuration (excerpt)
          properties:
            dhcp_active:
              type: boolean
              description: DHCP server status
              example: true
            dhcp_start:
              type: string
              description: DHCP start address
              example: 192.168.0.1
            dhcp_end:
              type: string
              description: DHCP end address
              example: 192.168.0.254
            dhcp_ipv6:
              type: boolean
              description: DHCPv6 server status
              example: false
            dns_domain:
              type: string
              description: DNS domain
              example: lan
            dns_port:
              type: integer
              description: DNS port
              example: 53
            dns_num_upstreams:
              type: integer
              description: Number of upstream DNS servers
              example: 1
            dns_dnssec:
              type: boolean
              description: DNSSEC status
              example: true
            dns_revServer_active:
              type: boolean
              description: Reverse DNS server status
              example: false
            privacy_level:
              type: integer
              description: Privacy level
              example: 0
        '%cpu':
          type: number
          description: CPU usage
          example: 0
        '%mem':
          type: number
          description: Memory usage
          example: 1.5
        pid:
          type: integer
          description: FTL's process ID
          example: 1639
        sensors:
          type: object
          properties:
            cpu_temp:
              type: number
              description: CPU temperature
              nullable: true
              example: 45
            hot_limit:
              type: number
              description: Temperature limit
              example: 80
            unit:
              type: string
              description: Temperature unit
              example: C
  examples:
    auth_okay:
      summary: Session valid
      value:
        session:
          valid: true
          totp: false
          sid: null
          csrf: null
          validity: 300
          message: null
        took: 0.003
    no_login_required:
      summary: No login required for this client
      value:
        session:
          valid: true
          totp: false
          sid: null
          csrf: null
          validity: -1
          message: no auth for local user
        took: 0.003
    login_required:
      summary: Login required, 2FA disabled
      value:
        session:
          valid: false
          totp: false
          sid: null
          csrf: null
          validity: -1
          message: password incorrect
        took: 0.003
    login_required_2fa:
      summary: Login required, 2FA enabled
      value:
        session:
          valid: false
          totp: true
          sid: null
          csrf: null
          validity: -1
          message: password incorrect
        took: 0.003
    login_okay:
      summary: Login successful
      value:
        session:
          valid: true
          totp: false
          sid: vFA+EP4MQ5JJvJg+3Q2Jnw=
          csrf: Ux87YTIiMOf/GKCefVIOMw=
          validity: 300
          message: correct password
        took: 0.003
    no_payload:
      summary: Bad request (no valid JSON payload)
      value:
        error:
          key: bad_request
          message: No valid JSON payload found
          hint: null
        took: 0.003
    no_password:
      summary: Bad request (no password)
      value:
        error:
          key: bad_request
          message: No password found in JSON payload
          hint: null
        took: 0.003
    password_inval:
      summary: Bad request (password is not a string)
      value:
        error:
          key: bad_request
          message: Field password has to be of type 'string'
          hint: null
        took: 0.003
    totp_missing:
      summary: Bad request (2FA token missing)
      value:
        error:
          key: bad_request
          message: No 2FA token found in JSON payload
          hint: null
        took: 0.003
    totp_invalid:
      summary: 2FA token invalid
      value:
        error:
          key: unauthorized
          message: Invalid 2FA token
          hint: null
        took: 0.003
    totp_reused:
      summary: 2FA token reused
      value:
        error:
          key: unauthorized
          message: Reused 2FA token
          hint: wait for new token
        took: 0.003
    rate_limit:
      summary: Rate limit exceeded
      value:
        error:
          key: rate_limiting
          message: Rate-limiting login attempts
          hint: null
        took: 0.003
    no_seats:
      summary: No free API seats available
      value:
        error:
          key: api_seats_exceeded
          message: API seats exceeded
          hint: increase webserver.api.max_sessions
        took: 0.003
    totp_rate_limit:
      summary: 2FA token requested too soon
      value:
        error:
          key: rate_limiting
          message: Rate-limiting 2FA token requests, try again later
          hint: null
        took: 0.001
    missing_session_id:
      summary: Bad request (missing session ID)
      value:
        error:
          key: bad_request
          message: Missing or invalid session ID
          hint: null
        took: 0.003
    session_not_in_use:
      summary: Bad request (session not in use)
      value:
        error:
          key: bad_request
          message: Session ID not in use
          hint: null
        took: 0.003
    domains:
      summary: Example domains
      value:
        domains:
          - domain: allowed.com
            unicode: allowed.com
            type: allow
            kind: exact
            comment: null
            groups:
              - 0
            enabled: true
            id: 299
            date_added: 1611239095
            date_modified: 1612163756
          - domain: xn--4ca.com
            unicode: .com
            type: allow
            kind: regex
            comment: Some text
            groups:
              - 0
            enabled: true
            id: 305
            date_added: 1611240635
            date_modified: 1611241276
        took: 0.012
        processed: null
    list_imprecise:
      summary: List not specified precisely enough
      value:
        error:
          key: uri_error
          message: 'Invalid request: Specify list to modify more precisely'
          hint: null
        took: 0.003
    item_missing:
      summary: Domain to be modified is missing
      value:
        error:
          key: uri_error
          message: 'Invalid request: Specify item in URI'
          hint: null
        took: 0.003
    bad_request-no_payload:
      summary: No JSON payload found
      value:
        error:
          key: bad_request
          message: Invalid request body data (no valid JSON)
          hint: null
        took: 0.003
    duplicate:
      summary: Database error
      value:
        error:
          key: database_error
          message: Could not add to gravity database
          hint: 'UNIQUE constraint failed: domainlist.domain, domainlist.type'
        took: 0.003
    invalid_regex:
      summary: Invalid regex rejected
      value:
        error:
          key: regex_error
          message: Regex validation failed
          hint: Missing ']'
        took: 0.003
    groups:
      value:
        groups:
          - name: Default
            comment: The default group
            enabled: true
            id: 0
            date_added: 1594670974
            date_modified: 1611157897
          - name: a
            comment: null
            enabled: true
            id: 5
            date_added: 1604871899
            date_modified: 1604871899
        took: 0.003
        processed: null
    uri_error-item_missing:
      summary: Group to be modified is missing
      value:
        error:
          key: uri_error
          message: 'Invalid request: Specify item in URI'
          hint: null
        took: 0.003
    database_error-duplicate:
      summary: Database error
      value:
        error:
          key: database_error
          message: Could not add to gravity database
          hint: 'UNIQUE constraint failed: grouplist.group'
        took: 0.003
    clients:
      value:
        clients:
          - client: 127.0.0.1
            name: localhost
            comment: comment
            id: 1
            date_added: 1604871899
            date_modified: 1604871899
          - client: '::1'
            name: ip6-localhost
            comment: null
            id: 2
            date_added: 1611322675
            date_modified: 1611325497
        took: 0.012
        processed:
          success:
            - item: 127.0.0.1
          failed:
            - item: 127.0.0.2
              error: 'UNIQUE constraint failed: clientlist.client'
    errors-uri_error-item_missing:
      summary: Client to be modified is missing
      value:
        error:
          key: uri_error
          message: 'Invalid request: Specify item in URI'
          hint: null
        took: 0.003
    errors-database_error-duplicate:
      summary: Database error
      value:
        error:
          key: database_error
          message: Could not add to gravity database
          hint: 'UNIQUE constraint failed: clientlist.client'
        took: 0.003
    lists:
      value:
        lists:
          - address: https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
            comment: Migrated from /etc/pihole/adlists.list
            groups:
              - 0
            enabled: true
            id: 1
            date_added: 1594670974
            date_modified: 1595279300
          - address: https://mirror1.malwaredomains.com/files/justdomains
            comment: Migrated from /etc/pihole/adlists.list
            groups:
              - 0
            enabled: true
            id: 2
            date_added: 1594670974
            date_modified: 1594670974
        took: 0.012
        processed: null
    examples-errors-uri_error-item_missing:
      summary: List to be modified is missing
      value:
        error:
          key: uri_error
          message: 'Invalid request: Specify item in URI'
          hint: null
        took: 0.003
    examples-errors-database_error-duplicate:
      summary: Database error
      value:
        error:
          key: database_error
          message: Could not add to gravity database
          hint: 'UNIQUE constraint failed: listlist.list'
        took: 0.003
    uri_error:
      summary: ID of message to delete is missing
      value:
        error:
          key: uri_error
          message: Specify ID of message to delete in path
          hint: /api/info/messages
        tooK: 0.003
    bad_request:
      summary: ID of message to delete is invalid
      value:
        error:
          key: bad_request
          message: Invalid ID in path
          hint: /api/info/messages/486741168746857468758478
        tooK: 0.003
    metrics:
      summary: Server metrics
      value:
        metrics:
          dns:
            cache:
              size: 10000
              inserted: 4060
              evicted: 0
              expired: 0
              immortal: 0
              content:
                - type: 0
                  name: OTHER
                  count:
                    valid: 0
                    stale: 0
                - type: 1
                  name: A
                  count:
                    valid: 14
                    stale: 3
                - type: 28
                  name: AAAA
                  count:
                    valid: 12
                    stale: 1
                - type: 5
                  name: CNAME
                  count:
                    valid: 5
                    stale: 3
                - type: 43
                  name: DS
                  count:
                    valid: 34
                    stale: 21
                - type: 48
                  name: DNSKEY
                  count:
                    valid: 1
                    stale: 0
            replies:
              optimized: 1
              local: 84
              auth: 0
              forwarded: 46
              unanswered: 0
              sum: 131
          dhcp:
            ack: 0
            nak: 0
            decline: 0
            offer: 0
            discover: 0
            inform: 0
            request: 0
            release: 0
            noanswer: 0
            bootp: 0
            pxe: 0
            leases:
              allocated_4: 0
              pruned_4: 0
              allocated_6: 0
              pruned_6: 0
        took: 0.003
    config:
      summary: The entire configuration
      value:
        config:
          dns:
            upstreams:
              - 127.0.0.1#5353
              - 8.8.8.8
            CNAMEdeepInspect: true
            blockESNI: true
            EDNS0ECS: true
            ignoreLocalhost: false
            showDNSSEC: true
            analyzeOnlyAandAAAA: false
            piholePTR: PI.HOLE
            replyWhenBusy: ALLOW
            blockTTL: 2
            hosts:
              - 192.168.2.123 mymusicbox
            domainNeeded: true
            expandHosts: true
            domain:
              name: lan
              local: true
            bogusPriv: true
            dnssec: true
            interface: eth0
            hostRecord: ''
            listeningMode: local
            queryLogging: true
            cnameRecords:
              - '*.example.com,default.example.com'
              - hourly.yetanother.com,yetanother.com,3600
            port: 53
            localise: true
            cache:
              size: 10000
              optimizer: 3600
              upstreamBlockedTTL: 86400
            revServers:
              - true,192.168.0.0/24,192.168.0.1,lan
            blocking:
              active: true
              mode: 'NULL'
              edns: NONE
            specialDomains:
              mozillaCanary: true
              iCloudPrivateRelay: true
              designatedResolver: true
            reply:
              host:
                force4: false
                force6: false
                IPv4: 0.0.0.0
                IPv6: '::'
              blocking:
                force4: false
                force6: false
                IPv4: 0.0.0.0
                IPv6: '::'
            rateLimit:
              count: 0
              interval: 0
          dhcp:
            active: false
            start: 192.168.0.10
            end: 192.168.0.250
            router: 192.168.0.1
            netmask: 0.0.0.0
            leaseTime: 24h
            ipv6: false
            rapidCommit: false
            multiDNS: false
            logging: false
            ignoreUnknownClients: false
            hosts:
              - 11:22:33:44:55:66,192.168.1.123
              - 11:22:33:44:55:67,192.168.1.124,hostname
          ntp:
            ipv4:
              active: true
              address: ''
            ipv6:
              active: true
              address: ''
            sync:
              active: true
              server: pool.ntp.org
              interval: 3600
              count: 8
              rtc:
                set: true
                device: ''
                utc: true
          resolver:
            resolveIPv4: true
            resolveIPv6: true
            networkNames: true
            refreshNames: IPV4_ONLY
          database:
            DBimport: true
            maxDBdays: 365
            DBinterval: 60
            useWAL: true
            network:
              parseARPcache: true
              expire: 365
          webserver:
            domain: pi.hole
            acl: +0.0.0.0/0,::/0
            port: 80,[::]:80
            threads: 0
            headers:
              - 'X-DNS-Prefetch-Control: off'
              - 'Content-Security-Policy: default-src ''self''; style-src ''self'' ''unsafe-inline''; img-src ''self'' data:;'
              - 'X-Frame-Options: DENY'
              - 'X-XSS-Protection: 0'
              - 'X-Content-Type-Options: nosniff'
              - 'Referrer-Policy: strict-origin-when-cross-origin'
            serve_all: false
            advancedOpts:
              - ssl_protocol_version=4
            session:
              timeout: 300
              restore: true
            tls:
              cert: /etc/pihole/tls.pem
              validity: 47
            paths:
              webroot: /var/www/html
              webhome: /admin/
              prefix: ''
            interface:
              boxed: true
              theme: default-darker
            api:
              max_sessions: 16
              prettyJSON: false
              password: '********'
              pwhash: ''
              totp_secret: ''
              app_pwhash: ''
              app_sudo: false
              cli_pw: true
              excludeClients:
                - 1\.2\.3\.4
                - localhost
                - fe80::345
              excludeDomains:
                - google\\.de
                - pi-hole\.net
              maxHistory: 86400
              maxClients: 10
              client_history_global_max: true
              allow_destructive: true
              temp:
                limit: 60
                unit: C
          files:
            pid: /run/pihole-FTL.pid
            database: /etc/pihole/pihole-FTL.db
            gravity: /etc/pihole/gravity.db
            gravity_tmp: /tmp
            macvendor: /etc/pihole/macvendor.db
            pcap: ''
            log:
              ftl: /var/log/pihole/FTL.log
              dnsmasq: /var/log/pihole/pihole.log
              webserver: /var/log/pihole/webserver.log
          misc:
            nice: -10
            delay_startup: 10
            addr2line: true
            privacylevel: 0
            etc_dnsmasq_d: false
            dnsmasq_lines: []
            extraLogging: false
            readOnly: false
            normalizeCPU: false
            hide_dnsmasq_warn: false
            check:
              load: true
              shmem: 90
              disk: 90
          debug:
            database: false
            networking: false
            locks: false
            queries: false
            flags: false
            shmem: false
            gc: false
            arp: false
            regex: false
            api: false
            tls: false
            overtime: false
            status: false
            caps: false
            dnssec: false
            vectors: false
            resolver: false
            edns0: false
            clients: false
            aliasclients: false
            events: false
            helper: false
            config: false
            inotify: false
            webserver: false
            extra: false
            reserved: false
            ntp: false
            netlink: false
            timing: false
            all: false
          took: 0.003
    config_one:
      summary: One option
      value:
        config:
          dns:
            CNAMEdeepInspect: true
    config_two:
      summary: Two options
      value:
        config:
          dns:
            specialDomains:
              mozillaCanary: true
          misc:
            nice: -10
    invalid_path_depth:
      summary: Invalid path
      value:
        error:
          key: bad_request
          message: Invalid path depth
          hint: Use, e.g., DELETE /config/dns/upstreams/127.0.0.1 to remove "127.0.0.1" from config.dns.upstreams
        took: 0.003
    item_already_present:
      summary: Item to be added exists already
      value:
        error:
          key: bad_request
          message: Item already present
          hint: Uniqueness of items is enforced
        took: 0.003
    teleporter:
      value:
        processed:
          - etc/pihole/pihole.toml
          - etc/pihole/gravity.db->group
          - etc/pihole/gravity.db->adlist
          - etc/pihole/gravity.db->adlist_by_group
        took: 0.003
    components-examples-errors-uri_error-item_missing:
      summary: DHCP lease to be deleted not specified accurately enough
      value:
        error:
          key: uri_error
          message: No ip in URI
          hint: null
        took: 0.003
  parameters:
    id:
      in: path
      name: id
      schema:
        type: integer
      required: true
      description: Session ID
      example: 0
    from:
      in: query
      description: Unix timestamp from when the data should be requested
      name: from
      schema:
        type: integer
      required: true
      example: 1672580025
    until:
      in: query
      description: Unix timestamp from when the data should be requested
      name: until
      schema:
        type: integer
      required: true
      example: 1672666425
    blocked:
      in: query
      description: Return information about permitted or blocked queries
      name: blocked
      schema:
        type: boolean
      required: false
      example: false
    count:
      in: query
      description: Number of requested items
      name: count
      schema:
        type: integer
      required: false
      example: 10
    recent_blocked-count:
      in: query
      description: Number of requested blocked domains
      name: count
      schema:
        type: integer
      required: false
      example: 1
    'N':
      in: query
      description: Maximum number of clients to return, setting this to 0 will return all clients
      name: 'N'
      schema:
        type: integer
      required: false
      example: 20
    type:
      in: path
      name: type
      description: Type (allowed or denied domain)
      schema:
        type: string
        enum:
          - allow
          - deny
      required: true
      example: allow
    kind:
      in: path
      name: kind
      description: Kind (exact domain or regular expression)
      schema:
        type: string
        enum:
          - exact
          - regex
      required: true
      example: exact
    domain:
      in: path
      name: domain
      description: Domain
      schema:
        type: string
      required: true
      example: testdomain.com
    name:
      in: path
      name: name
      schema:
        type: string
      required: true
      description: Group name
      example: test_group
    client:
      in: path
      name: client
      schema:
        type: string
      required: true
      description: client IP / MAC / hostname / interface
      example: 127.0.0.1
    list:
      in: path
      name: list
      schema:
        type: string
      required: true
      description: Address of the list
      example: https://hosts-file.net/ad_servers.txt
    listtype_optional:
      in: query
      name: type
      schema:
        type: string
        enum:
          - allow
          - block
      required: false
      description: Type of list, optional
      example: block
    listtype:
      in: query
      name: type
      schema:
        type: string
        enum:
          - allow
          - block
      required: true
      description: Type of list
      example: block
    message_id:
      in: path
      description: ID of the message to be deleted
      name: message_id
      schema:
        type: integer
      required: true
      example: 512
    nextID:
      in: query
      description: (Optional) ID of next line to return
      name: nextID
      schema:
        type: integer
      required: false
      example: 219
    detailed:
      name: detailed
      in: query
      description: Return detailed information about the configuration
      required: false
      schema:
        type: boolean
        default: false
        example: false
    restart:
      name: restart
      in: query
      description: Restart FTL after a change would require this. This option can be used if you want to avoid a restart, e.g., when adding multiple items independently instead of all together at once. Note that you will have to restart FTL manually later to apply the changes.
      required: false
      schema:
        type: boolean
        default: true
        example: true
    element:
      in: path
      name: element
      schema:
        type: string
      required: true
      description: config element
      example: dns/upstreams
    value:
      in: path
      name: value
      schema:
        type: string
      required: true
      description: config value
      example: 8.8.8.8
    max_devices:
      in: query
      description: (Optional) Maximum number of devices to show
      name: max_devices
      schema:
        type: integer
      required: false
      example: 10
    max_addresses:
      in: query
      description: (Optional) Maximum number of addresses to show per device
      name: max_addresses
      schema:
        type: integer
      required: false
      example: 3
    device_id:
      in: path
      description: Device ID
      name: device_id
      schema:
        type: integer
      required: true
      example: 1
    devices-detailed:
      in: query
      description: (Optional) Detailed interface/routing information
      name: detailed
      schema:
        type: boolean
      required: false
      example: false
    color:
      name: color
      in: query
      description: Include ANSI color escape codes in the streamed output. Defaults to false to prevent colored output for API consumers that don't need formatting.
      schema:
        type: boolean
        default: false
        example: true
      required: false
    ip:
      in: path
      name: ip
      schema:
        type: string
      required: true
      description: IP address of lease to be modified
      example: 192.168.2.222
    parameters-domain:
      name: domain
      in: path
      description: (Part of) domain to be searched for
      schema:
        type: string
        default: ''
        example: doubleclick.net
      required: true
    partial:
      name: partial
      in: query
      description: Is partial matching requested?
      required: false
      schema:
        type: boolean
        default: false
        example: false
    parameters-N:
      name: 'N'
      in: query
      description: Maximum number of results to be returned
      required: false
      schema:
        type: integer
        default: 20
        example: 20
    debug:
      name: debug
      in: query
      description: Add debug information to the response
      required: false
      schema:
        type: boolean
        default: false
        example: false
  headers:
    Location:
      description: Location of created resource
      schema:
        type: string
